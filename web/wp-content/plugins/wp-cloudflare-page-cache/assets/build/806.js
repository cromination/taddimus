"use strict";(globalThis.webpackChunkwp_cloudflare_page_cache=globalThis.webpackChunkwp_cloudflare_page_cache||[]).push([[806],{122:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(1609),r=t(2748);const n=({options:e,value:a,onChange:t,className:n="",id:c,disabled:s=!1})=>(0,l.createElement)("select",{disabled:s,value:a,id:c,className:(0,r.cn)("h-9 px-2 pr-6 py-1 rounded-md m-0","selection:bg-primary selection:text-primary-foreground","border border-input text-foreground bg-transparent bg-muted","placeholder:text-muted-foreground transition-[color,box-shadow] file:inline-flex md:text-sm","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),onChange:e=>{t(e.target.value)}},e.map((e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label))))},1181:(e,a,t)=>{t.d(a,{A:()=>l});const l=(0,t(9407).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1486:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(1609),r=t(2748);const n=({children:e,from:a="bottom",className:t})=>{const n=(0,r.cn)("starting:opacity-0 duration-300 transition-all","delay-100 ease-out",{left:"starting:-translate-x-2",right:"starting:translate-x-2",top:"starting:-translate-y-2",bottom:"starting:translate-y-2",fade:"starting:opacity-0"}[a],t);return(0,l.createElement)("div",{className:n},e)}},1769:(e,a,t)=>{t.d(a,{X:()=>n});var l=t(1609),r=t(8200);function n(e){const[a,t]=l.useState(void 0);return(0,r.N)((()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver((a=>{if(!Array.isArray(a))return;if(!a.length)return;const l=a[0];let r,n;if("borderBoxSize"in l){const e=l.borderBoxSize,a=Array.isArray(e)?e[0]:e;r=a.inlineSize,n=a.blockSize}else r=e.offsetWidth,n=e.offsetHeight;t({width:r,height:n})}));return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}t(void 0)}),[e]),a}},2318:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(1609),r=t(3362),n=t(2732),c=t(2748);const s=(0,n.F)((0,c.cn)("inline-flex gap-1 items-center px-2 py-1 text-xs font-medium rounded-full","[&>svg]:size-3.5"),{variants:{variant:{default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",success:"bg-green-500 text-white dark:bg-green-500/20 dark:text-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",destructive:"bg-red-500 text-white dark:bg-red-500/20 dark:text-red-300"}},defaultVariants:{variant:"default"}}),o=function({className:e,variant:a,asChild:t=!1,...n}){const o=t?r.DX:"span";return(0,l.createElement)(o,{"data-slot":"badge",className:(0,c.cn)(s({variant:a}),e),...n})}},2784:(e,a,t)=>{t.d(a,{A:()=>s});var l=t(1609),r=t(2748),n=t(7723),c=t(6087);const s=({hideText:e=!1,text:a="",className:t=""})=>{const[s,o]=(0,c.useState)(!1);return(0,l.createElement)("div",{className:(0,r.cn)("flex items-center gap-2",t)},(0,l.createElement)("img",{onLoad:()=>{o(!0)},src:window.SPCDash.logoURL,alt:(0,n.__)("Super Page Cache Logo","wp-cloudflare-page-cache"),className:(0,r.cn)("size-8 starting:opacity-0 transition-opacity duration-300",{hidden:!s})}),!s&&(0,l.createElement)("span",{className:"size-8 bg-foreground/10 rounded-md animate-pulse"}),!e&&(0,l.createElement)("h1",{className:"text-lg font-semibold"},a||(0,n.__)("Super Page Cache","wp-cloudflare-page-cache")))}},3040:(e,a,t)=>{t.d(a,{A:()=>L});var l=t(1609),r=t(1071),n=t(2133),c=t(9957),s=t(1351),o=t(1769),i=t(7971),d=t(2579),m=t(4848),u="Checkbox",[p,g]=(0,n.A)(u),[f,h]=p(u);function b(e){const{__scopeCheckbox:a,checked:t,children:r,defaultChecked:n,disabled:c,form:o,name:i,onCheckedChange:d,required:p,value:g="on",internal_do_not_use_render:h}=e,[b,_]=(0,s.i)({prop:t,defaultProp:n??!1,onChange:d,caller:u}),[E,y]=l.useState(null),[w,x]=l.useState(null),v=l.useRef(!1),k=!E||!!o||!!E.closest("form"),A={checked:b,disabled:c,setChecked:_,control:E,setControl:y,name:i,form:o,value:g,hasConsumerStoppedPropagationRef:v,required:p,defaultChecked:!C(n)&&n,isFormControl:k,bubbleInput:w,setBubbleInput:x};return(0,m.jsx)(f,{scope:a,...A,children:N(h)?h(A):r})}var _="CheckboxTrigger",E=l.forwardRef((({__scopeCheckbox:e,onKeyDown:a,onClick:t,...n},s)=>{const{control:o,value:i,disabled:u,checked:p,required:g,setControl:f,setChecked:b,hasConsumerStoppedPropagationRef:E,isFormControl:y,bubbleInput:w}=h(_,e),x=(0,r.s)(s,f),v=l.useRef(p);return l.useEffect((()=>{const e=o?.form;if(e){const a=()=>b(v.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}}),[o,b]),(0,m.jsx)(d.sG.button,{type:"button",role:"checkbox","aria-checked":C(p)?"mixed":p,"aria-required":g,"data-state":A(p),"data-disabled":u?"":void 0,disabled:u,value:i,...n,ref:x,onKeyDown:(0,c.m)(a,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,c.m)(t,(e=>{b((e=>!!C(e)||!e)),w&&y&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())}))})}));E.displayName=_;var y=l.forwardRef(((e,a)=>{const{__scopeCheckbox:t,name:l,checked:r,defaultChecked:n,required:c,disabled:s,value:o,onCheckedChange:i,form:d,...u}=e;return(0,m.jsx)(b,{__scopeCheckbox:t,checked:r,defaultChecked:n,disabled:s,required:c,onCheckedChange:i,name:l,form:d,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E,{...u,ref:a,__scopeCheckbox:t}),e&&(0,m.jsx)(k,{__scopeCheckbox:t})]})})}));y.displayName=u;var w="CheckboxIndicator",x=l.forwardRef(((e,a)=>{const{__scopeCheckbox:t,forceMount:l,...r}=e,n=h(w,t);return(0,m.jsx)(i.C,{present:l||C(n.checked)||!0===n.checked,children:(0,m.jsx)(d.sG.span,{"data-state":A(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...e.style}})})}));x.displayName=w;var v="CheckboxBubbleInput",k=l.forwardRef((({__scopeCheckbox:e,...a},t)=>{const{control:n,hasConsumerStoppedPropagationRef:c,checked:s,defaultChecked:i,required:u,disabled:p,name:g,value:f,form:b,bubbleInput:_,setBubbleInput:E}=h(v,e),y=(0,r.s)(t,E),w=function(e){const a=l.useRef({value:e,previous:e});return l.useMemo((()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous)),[e])}(s),x=(0,o.X)(n);l.useEffect((()=>{const e=_;if(!e)return;const a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set,l=!c.current;if(w!==s&&t){const a=new Event("click",{bubbles:l});e.indeterminate=C(s),t.call(e,!C(s)&&s),e.dispatchEvent(a)}}),[_,w,s,c]);const k=l.useRef(!C(s)&&s);return(0,m.jsx)(d.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??k.current,required:u,disabled:p,name:g,value:f,form:b,...a,tabIndex:-1,ref:y,style:{...a.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})}));function N(e){return"function"==typeof e}function C(e){return"indeterminate"===e}function A(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=v;var S=t(5773),z=t(2748);function R({className:e,...a}){return(0,l.createElement)(y,{"data-slot":"checkbox",className:(0,z.cn)("disabled:cursor-not-allowed disabled:opacity-50","border border-input rounded size-5 shrink-0","dark:bg-input/30","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary/20","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","peer focus-visible:border-ring focus-visible:ring-ring/50",e),...a},(0,l.createElement)(x,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none"},(0,l.createElement)(S.A,{className:"size-4",strokeWidth:3})))}const L=({id:e,label:a,value:t,onChange:r,disabled:n=!1})=>(0,l.createElement)("div",{className:"grid gap-3"},(0,l.createElement)("div",{className:"flex items-center gap-2 items-center text-left"},(0,l.createElement)(R,{className:"cursor-pointer",id:e,checked:Boolean(t),onCheckedChange:a=>{r(a,e)},disabled:n}),(0,l.createElement)("label",{htmlFor:e,className:"cursor-pointer flex items-center text-sm"},a)))},3327:(e,a,t)=>{t.d(a,{A:()=>L});var l=t(1609),r=t(6466),n=t(2748);function c({className:e,...a}){return(0,l.createElement)("textarea",{"data-slot":"textarea",className:(0,n.cn)("px-3 py-2 rounded-md text-sm transition-color","selection:bg-primary selection:text-primary-foreground placeholder:text-muted-foreground","disabled:cursor-not-allowed disabled:opacity-50","bg-muted border border-input text-foreground min-h-16 w-full",e),...a})}const s=({id:e,label:a,description:t,value:n,onChange:s,children:o,placeholder:i="",disabled:d=!1,locked:m=!1})=>(0,l.createElement)("div",{className:"grid gap-3"},(0,l.createElement)(r.A,{label:a,description:t,id:e,locked:m},(0,l.createElement)("div",{className:"flex flex-col gap-2 items-end text-right"},(0,l.createElement)(c,{id:e,placeholder:i,value:null!=n?n:"",className:"w-full h-24 font-mono",onChange:a=>{const t=a.target.value;s(t,e)},disabled:d}))),o);var o=t(7723);const i=({value:e,onChange:a,id:t,disabled:r,labels:c})=>{const s=(0,n.cn)("px-4 py-2 text-sm font-medium border transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"),i=e=>(0,n.cn)({"pointer-events-none":r,"bg-muted-foreground text-white border-muted-foreground":e&&r,"bg-primary text-primary-foreground border-primary group-hover:bg-primary/75":e&&!r,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700":!e});return(0,l.createElement)("div",{className:"flex items-start justify-between"},(0,l.createElement)("div",{className:"ml-6"},(0,l.createElement)("button",{id:t,disabled:r,className:"group flex rounded-md disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>a(!e),"aria-label":e?(0,o.__)("Turn off","spc"):(0,o.__)("Turn on","spc")},(0,l.createElement)("div",{className:(0,n.cn)("rounded-l-md",s,i(e))},c?.yes||(0,o.__)("Yes","spc")),(0,l.createElement)("div",{className:(0,n.cn)("rounded-r-md",s,i(!e))},c?.no||(0,o.__)("No","spc")))))},d=({id:e,label:a,description:t,value:n,onChange:c,children:s,disabled:o=!1,locked:d=!1})=>(0,l.createElement)("div",{className:"grid gap-3"},(0,l.createElement)(r.A,{label:a,description:t,id:e,stack:!1,afterControl:s,locked:d},(0,l.createElement)("div",{className:"flex flex-col gap-2 items-end text-right"},(0,l.createElement)(i,{value:Boolean(n),onChange:a=>{c(a,e)},id:e,disabled:o}))));var m=t(6846);const u=({utmCampaign:e="pro-tag"})=>(0,l.createElement)("a",{href:(0,n.n_)(e),className:"ml-2 px-2 py-0.5 flex items-center gap-1 text-xs font-semibold bg-gray-800 dark:bg-white text-white dark:text-gray-800 hover:opacity-80 transition-opacity duration-200 rounded flex items-center uppercase"},(0,l.createElement)(m.A,{className:"size-3"}),(0,o.__)("Pro","wp-cloudflare-page-cache")),p=({type:e,id:a,label:t="",description:r="",utmCampaign:n="",placeholder:c=""})=>{const o=(e,a)=>{};return"textarea"===e?(0,l.createElement)(s,{id:`dummy-${a}`,placeholder:c,label:(0,l.createElement)("span",{className:"inline-flex items-center gap-3"},t,(0,l.createElement)(u,{utmCampaign:n})),value:"",disabled:!0,description:r,onChange:o,locked:!0}):"toggle"===e?(0,l.createElement)(d,{id:`dummy-${a}`,disabled:!0,label:(0,l.createElement)("span",{className:"inline-flex items-center gap-3"},t,(0,l.createElement)(u,{utmCampaign:n})),description:r,value:!1,onChange:o,locked:!0}):null};var g=t(3040),f=t(4585),h=t(4758);const b=({id:e,disabled:a=!1,...t})=>{const{updateSetting:r,settings:n}=(0,f.C)(),{asyncLocked:c}=(0,h.C)();return(0,l.createElement)(g.A,{id:e,onChange:a=>{r(e,a?1:0),t.sideEffectCallback&&t.sideEffectCallback(a)},value:n[e],disabled:c||a,...t})};var _=t(6284),E=t(5975),y=t(3160),w=t(3540),x=t(6087);const v=({id:e,label:a,description:t,value:c,onChange:s,children:i,type:d="text",min:m=null,max:u=null,step:p=1,placeholder:g="",disabled:f=!1})=>{const[h,b]=(0,x.useState)(!1),v={};return"number"===d&&(null!==m&&(v.min=m),null!==u&&(v.max=u),v.onBlur=e=>{var a;""===e.target.value&&(e.target.value=null!==(a=v.min?.toString())&&void 0!==a?a:0)},v.step=p),"password"===d&&(v.autoComplete="off"),(0,l.createElement)("div",{className:"grid gap-3"},(0,l.createElement)(r.A,{label:a,description:t,id:e,stack:!1,stackMobile:!0},(0,l.createElement)("div",{className:"flex items-center items-end text-right relative"},(0,l.createElement)(_.p,{id:e,className:(0,n.cn)("password"===d&&"rounded-r-none","w-auto"),type:"password"===d?h?"text":"password":d,placeholder:g,value:null!=c?c:"",onChange:a=>{const t=a.target.value;if("number"===d){let a=parseInt(t);return m&&a<m&&(a=m),u&&a>u&&(a=u),void s(a.toString(),e)}s(t,e)},disabled:f,...v}),"password"===d&&(0,l.createElement)(E.A,{type:"button",variant:"default",size:"icon",className:"rounded-l-none",disabled:f,icon:h?y.A:w.A,onClick:()=>{b(!h)}},(0,l.createElement)("span",{className:"sr-only"},h?(0,o.__)("Hide password","wp-cloudflare-page-cache"):(0,o.__)("Show password","wp-cloudflare-page-cache"))))),i)},k=e=>{const{updateSetting:a,settings:t}=(0,f.C)(),{asyncLocked:r}=(0,h.C)(),{id:n}=e;return(0,l.createElement)(v,{onChange:e=>{a(n,e)},value:t[n],disabled:r,...e})},N=e=>{const{updateSetting:a,settings:t}=(0,f.C)(),{asyncLocked:r}=(0,h.C)(),{id:n}=e;return(0,l.createElement)(s,{onChange:e=>{a(n,e)},value:t[n],disabled:r,...e})},C=({id:e,disabled:a=!1,...t})=>{const{updateSetting:r,settings:n}=(0,f.C)(),{asyncLocked:c}=(0,h.C)();return(0,l.createElement)(d,{id:e,onChange:a=>{r(e,a?1:0),t.sideEffectCallback&&t.sideEffectCallback(a)},value:n[e],disabled:c||a,...t})};var A=t(7102),S=t(122);const z=({id:e,label:a,description:t,value:n,onChange:c,children:s,options:o,className:i="",disabled:d=!1,locked:m=!1})=>(0,l.createElement)("div",{className:"grid gap-3"},(0,l.createElement)(r.A,{label:a,description:t,id:e,stack:!1,locked:m,stackMobile:!0},(0,l.createElement)("div",{className:"flex items-center items-end text-right relative"},(0,l.createElement)(S.A,{id:e,value:null!=n?n:"",onChange:a=>{c(a,e)},disabled:d,options:o,className:i}))),s),R=({disabled:e=!1,...a})=>{const{updateSetting:t,settings:r}=(0,f.C)(),{asyncLocked:n}=(0,h.C)(),{id:c}=a;return(0,l.createElement)(z,{onChange:e=>{t(c,e)},value:r[c],disabled:n||e,...a})},L=({controls:e})=>e.filter((({hide:e})=>!e)).map(((e,a)=>{if(!["toggle","number","text","textarea","checkbox-group","custom","select"].includes(e.type))return null;const t=[0!==a&&(0,l.createElement)(A.A,{key:`separator-${e.id}`})];return e.locked?(t.push((0,l.createElement)(p,{key:e.id,...e})),t):("toggle"===e.type&&t.push((0,l.createElement)(C,{key:e.id,...e})),"number"!==e.type&&"text"!==e.type||t.push((0,l.createElement)(k,{key:e.id,...e})),"select"===e.type&&t.push((0,l.createElement)(R,{key:e.id,...e})),"textarea"===e.type&&t.push((0,l.createElement)(N,{key:e.id,...e})),"custom"===e.type&&t.push((0,l.createElement)(r.A,{key:e.id,label:e.label,description:e.description,afterControl:e.children,stack:e.stack&&e.stack},e.component&&e.component)),"checkbox-group"===e.type&&e.controls&&t.push((0,l.createElement)(r.A,{key:e.id,label:e.label,description:e.description},(0,l.createElement)("div",{className:(0,n.cn)("grid gap-3 mt-5",!e.stack&&"md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2")},e.controls.map(((a,t)=>(0,l.createElement)("div",{key:a.id,className:"flex flex-col gap-3"},0!==t&&(e.stack||1!==t)&&(0,l.createElement)(A.A,null),(0,l.createElement)("div",{className:"flex items-end gap-1"},(0,l.createElement)(b,{id:a.id,label:a.label,description:a.description,disabled:a.disabled||!1}),a.recommended&&(0,l.createElement)("span",{className:"ml-1 text-xs"},` - ${(0,o.__)("Recommended","wp-cloudflare-page-cache")}`)))))))),t)}))},3540:(e,a,t)=>{t.d(a,{A:()=>l});const l=(0,t(9407).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},3781:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(1609),r=t(1486);const n=({children:e})=>(0,l.createElement)(r.A,{className:"delay-100 grid gap-5"},e)},5731:(e,a,t)=>{t.d(a,{A:()=>l});const l=(0,t(9407).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},5975:(e,a,t)=>{t.d(a,{A:()=>i});var l=t(1609),r=t(2732),n=t(2748),c=t(8723);const s=(0,r.F)("border inline-flex items-center justify-center gap-2 rounded font-medium transition-all cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0",{variants:{variant:{default:"border-primary bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"border-destructive bg-destructive text-white shadow-sm hover:bg-destructive/90",outline:"border-current/25 text-foreground/80 hover:bg-accent hover:text-accent-foreground",ghost:"border-transparent hover:bg-accent text-secondary-foreground hover:text-accent-foreground",link:"border-transparent text-primary underline-offset-4 hover:underline",cta:"border-transparent bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg hover:shadow-xl shadow-orange-200 dark:shadow-orange-900 dark:hover:shadow-orange-800 bg-size-[100%] hover:bg-size-[150%] duration-300 ease-in-out",orange:"border-orange-600 bg-orange-600 text-white hover:bg-orange-700",green:"border-green-600 bg-green-600 text-white shadow-sm hover:bg-green-700",blue:"border-blue-600 bg-blue-600 text-white hover:bg-blue-700",upsell:"bg-gradient-to-r from-orange-500 to-red-500 shadow-md hover:shadow-lg bg-size-[100%] hover:bg-size-[150%] text-white"},size:{default:"h-10 px-6 py-3 text-sm",sm:"h-8 px-4 py-2 text-sm",lg:"h-12 px-6 py-3 text-base font-semibold",xs:"h-auto px-3 py-1.5 text-xs gap-1",icon:"size-9 p-1.5"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((({className:e,variant:a,size:t,loader:r=!1,icon:o,href:i,target:d,children:m,onClick:u,...p},g)=>{const f=i?"a":"button",h=i?{href:i,target:d,rel:"noreferrer",...p}:{onClick:u,...p};return(0,l.createElement)(f,{ref:g,className:(0,n.cn)(s({variant:a,size:t,className:e})),...h},o&&!r&&(0,l.createElement)(o,null),r&&(0,l.createElement)(c.A,{className:"animate-spin"}),m)}));o.displayName="Button";const i=o},6284:(e,a,t)=>{t.d(a,{p:()=>n});var l=t(1609),r=t(2732);function n({className:e,type:a,...t}){const n=(0,r.F)(["h-9 px-3 py-1 rounded-md m-0","selection:bg-primary selection:text-primary-foreground","border border-input text-foreground bg-muted","placeholder:text-muted-foreground transition-[color,box-shadow] file:inline-flex md:text-sm","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive"]);return(0,l.createElement)("input",{type:a,"data-slot":"input",className:n({className:e}),...t})}},6466:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(1609),r=t(2748);const n=({id:e="",children:a,label:t,description:n,stack:c=!0,afterControl:s=null,locked:o=!1,afterTitle:i=null,stackMobile:d=!1})=>(0,l.createElement)("div",{className:(0,r.cn)("p-6",o&&"bg-muted")},(0,l.createElement)("div",{className:(0,r.cn)("flex items-start justify-between",d&&"flex-col md:flex-row")},(0,l.createElement)("div",{className:"flex-1"},(0,l.createElement)("div",{className:"flex items-center justify-between gap-3 mb-2"},e&&(0,l.createElement)("label",{htmlFor:e},(0,l.createElement)("h3",{className:"text-sm font-medium"},t)),!e&&(0,l.createElement)("div",{className:"text-sm font-medium"},t),i),(0,l.createElement)("div",{className:"text-sm text-foreground/80 not-last:mb-3"},n),c&&a),!c&&(0,l.createElement)("div",{className:(0,r.cn)({"ml-6":!d,"md:ml-6 mt-5 md:mt-0":d})},a)),s)},6816:(e,a,t)=>{t.d(a,{A:()=>l});const l=(0,t(9407).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},7102:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(1609),r=t(2748);const n=({orientation:e="horizontal",className:a})=>(0,l.createElement)("div",{className:(0,r.cn)("bg-border shrink-0","horizontal"===e?"h-px w-full":"w-px h-full min-h-[1rem]",a)})},8068:(e,a,t)=>{t.d(a,{R:()=>l});const l=new class{constructor(){this.baseUrl=window.SPCDash.api,this.nonce=window.SPCDash.nonce}async makeRequest(e,a={}){const t=this.baseUrl+e,l={"Content-Type":"application/json","X-WP-Nonce":this.nonce,...a.headers};try{const e=await fetch(t,{...a,headers:l}),r=await e.json();return e.ok&&r.success?r:{success:!1,message:r.message||window.SPCDash.i18n.genericError}}catch(e){return{success:!1,message:e instanceof Error?e.message:window.SPCDash.i18n.genericError}}}async purgeCacheAll(){return this.makeRequest("/cache/purge",{method:"POST"})}async purgeCacheVarnish(){return this.makeRequest("/cache/purge-varnish",{method:"GET"})}async testCache(){return this.makeRequest("/cache/test",{method:"GET"})}async toggleLicenseKey(e={}){return this.makeRequest("/toggle-license",{method:"POST",body:JSON.stringify(e)})}async resetSettings(){return this.makeRequest("/settings/reset",{method:"GET"})}async enablePageCache(){return this.makeRequest("/settings/wizard",{method:"GET"})}async clearLogs(){return this.makeRequest("/logs/clear",{method:"GET"})}async getLogs(){return this.makeRequest("/logs/get",{method:"GET"})}async startPreloader(){return this.makeRequest("/preloader/start",{method:"GET"})}async importConfig(e){return this.makeRequest("/config/import",{method:"POST",body:JSON.stringify({settings:e})})}async updateSettings(e){return this.makeRequest("/settings/update",{method:"POST",body:JSON.stringify({settings:e})})}async cloudflareConnect(e){return this.makeRequest("/cloudflare/connect",{method:"POST",body:JSON.stringify(e)})}async cloudflareDisconnect(){return this.makeRequest("/cloudflare/disconnect",{method:"GET"})}async cloudflareConfirmZoneId(e){return this.makeRequest("/cloudflare/confirm-zone-id",{method:"POST",body:JSON.stringify(e)})}async verifyTokenPermissions(){return this.makeRequest("/cloudflare/token-permissions",{method:"GET"})}async databaseOptimization(e){return this.makeRequest("/database/optimize",{method:"DELETE",body:JSON.stringify(e)})}async getCloudflareAnalytics(){return this.makeRequest("/cloudflare/analytics",{method:"GET"})}async repairCloudflareRule(){return this.makeRequest("/cloudflare/repair-rule",{method:"GET"})}async dismissNotice(e){return this.makeRequest("/notice/dismiss",{method:"POST",body:JSON.stringify({key:e})})}async getCachedPages(){return this.makeRequest("/cached-pages",{method:"GET"})}}},8266:(e,a,t)=>{t.d(a,{A:()=>s});var l=t(1609),r=t(5181),n=t(2748),c=t(1486);const s=({className:e})=>{const a=(0,n.Vv)();return a?(0,l.createElement)(c.A,{from:"fade",className:(0,n.cn)("delay-300 mb-6",e)},(0,l.createElement)(r.Ay,{className:"shadow-xl shadow-orange-500/10 border-orange-500/30"},(0,l.createElement)(r.Wu,null,(0,l.createElement)("div",{dangerouslySetInnerHTML:{__html:a}})))):null}},8323:(e,a,t)=>{t.d(a,{Bm:()=>v,Yw:()=>k,Ay:()=>N});var l=t(1609),r=t(5975),n=t(4758),c=t(7723),s=t(4539),o=t(8676);const i=()=>{const{toggleDarkMode:e,darkMode:a}=(0,n.C)();return(0,l.createElement)(r.A,{variant:"ghost",size:"icon",icon:a?s.A:o.A,onClick:e,className:"text-muted-foreground",title:(0,c.__)("Toggle dark mode","wp-cloudflare-page-cache")})};var d=t(2784),m=t(7102),u=t(1486),p=t(2318),g=t(504),f=t(367),h=t(6087),b=t(232),_=t(9230),E=t(418),y=t(8147),w=t(4997),x=t(964);const v=({children:e})=>(0,l.createElement)(l.Fragment,null,e),k=({children:e})=>(0,l.createElement)(l.Fragment,null,e),N=({backButton:e=!0,title:a=null,children:t})=>{const{isPro:s,version:o}=window.SPCDash,{setRootPage:N,validLicense:C,rootPage:A}=(0,n.C)(),{toggleSidebar:S,showWizard:z}=(0,n.C)(),R=()=>{N(f.qX.DASHBOARD)};let L=null,P=null;return h.Children.forEach(t,(e=>{if((0,h.isValidElement)(e)){const a=e;a.type===v?L=a.props.children:a.type===k&&(P=a.props.children)}})),(0,l.createElement)("div",{className:"bg-background border-b"},(0,l.createElement)(g.A,null,(0,l.createElement)("div",{className:"flex items-center justify-between h-14"},(0,l.createElement)("div",{className:"flex items-center space-x-3"},e&&(0,l.createElement)(u.A,{from:"right",className:"hidden xl:block"},(0,l.createElement)(r.A,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:R,icon:b.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("Back to dashboard","wp-cloudflare-page-cache")))),A===f.qX.SETTINGS&&(0,l.createElement)(r.A,{variant:"ghost",size:"icon",className:"xl:hidden",onClick:S,icon:_.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("Toggle settings menu","wp-cloudflare-page-cache"))),(0,l.createElement)("div",{className:"flex items-center space-x-2"},(0,l.createElement)(d.A,{text:a,className:"hidden xl:flex"}),(0,l.createElement)(d.A,{hideText:!0,className:"xl:hidden"}),(0,l.createElement)("span",{className:"text-xs text-gray-400 font-mono"},"v",o),!s&&(0,l.createElement)(p.A,null,(0,c.__)("Free","wp-cloudflare-page-cache")),s&&(0,l.createElement)(p.A,{variant:C?"success":"warning"},!C&&(0,l.createElement)(E.A,null),(0,c.__)("Pro","wp-cloudflare-page-cache")+(C?"":` (${(0,c.__)("Unlicensed","wp-cloudflare-page-cache")})`)),L&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m.A,{orientation:"vertical"}),L))),(0,l.createElement)("div",{className:"flex items-center gap-2"},P&&(0,l.createElement)(l.Fragment,null,P,(0,l.createElement)(m.A,{orientation:"vertical"})),e&&(0,l.createElement)(u.A,{from:"right",className:"xl:hidden"},(0,l.createElement)(r.A,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:R,icon:b.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("Back to dashboard","wp-cloudflare-page-cache")))),s&&A!==f.qX.LICENSE&&!z&&(0,l.createElement)(r.A,{title:(0,c.__)("License","wp-cloudflare-page-cache"),onClick:()=>N(f.qX.LICENSE),className:"text-muted-foreground",variant:"ghost",size:"icon",icon:y.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("License","wp-cloudflare-page-cache"))),A!==f.qX.HELP&&(0,l.createElement)(r.A,{title:(0,c.__)("Help Center","wp-cloudflare-page-cache"),onClick:()=>N(f.qX.HELP),className:"text-muted-foreground",variant:"ghost",size:"icon",icon:w.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("Help Center","wp-cloudflare-page-cache"))),A!==f.qX.SETTINGS&&!z&&(0,l.createElement)(r.A,{title:(0,c.__)("Settings","wp-cloudflare-page-cache"),className:"text-muted-foreground",variant:"ghost",size:"icon",onClick:()=>N(f.qX.SETTINGS),icon:x.A},(0,l.createElement)("span",{className:"sr-only"},(0,c.__)("Settings","wp-cloudflare-page-cache"))),(0,l.createElement)(i,null)))))}},9391:(e,a,t)=>{t.d(a,{A:()=>u});var l=t(1609),r=t(2748),n=t(418),c=t(4471),s=t(7946),o=t(7213),i=t(8697),d=t(5975),m=t(7723);const u=({children:e=null,description:a="",title:t="",fillIcon:u=!1,className:p="",icon:g=null,type:f="neutral",onDismiss:h=null})=>{const b=(0,r.cn)("border rounded-lg p-3 relative",{"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-700/30":"orange"===f,"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700/30":"info"===f,"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-700/30":"warning"===f,"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700/30":"error"===f,"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700/30":"success"===f,"bg-muted border-foreground-muted":"neutral"===f},p),_=(0,r.cn)("size-5 mr-2 flex-shrink-0",{"text-orange-600 dark:text-orange-400":"orange"===f,"text-blue-600 dark:text-blue-400":"info"===f,"text-amber-600 dark:text-amber-400":"warning"===f,"text-red-600 dark:text-red-400":"error"===f,"text-green-600 dark:text-green-400":"success"===f,"text-gray-600 dark:text-gray-400":"neutral"===f}),E=(0,r.cn)("text-sm",{"text-orange-800 dark:text-orange-300":"orange"===f,"text-blue-800 dark:text-blue-300":"info"===f,"text-amber-800 dark:text-amber-500":"warning"===f,"text-red-800 dark:text-red-300":"error"===f,"text-green-800 dark:text-green-300":"success"===f,"text-gray-800 dark:text-gray-300":"neutral"===f}),y=(0,r.cn)("font-semibold text-sm",{"text-orange-900 dark:text-orange-200":"orange"===f,"text-blue-900 dark:text-blue-200":"info"===f,"text-amber-900 dark:text-amber-200":"warning"===f,"text-red-900 dark:text-red-200":"error"===f,"text-green-900 dark:text-green-200":"success"===f,"text-gray-900 dark:text-gray-200":"neutral"===f}),w={warning:n.A,success:c.A,error:s.A,info:o.A},x="disabled"===g?null:g||w[f]||null;return(0,l.createElement)("div",{className:b},!!h&&(0,l.createElement)(d.A,{variant:"ghost",size:"icon",onClick:h,className:(0,r.cn)("absolute top-1 right-1 rounded-lg hover:bg-black/10",E),icon:i.A},(0,l.createElement)("span",{className:"sr-only"},(0,m.__)("Dismiss notice","wp-cloudflare_page_cache"))),(0,l.createElement)("div",{className:"flex items-start"},x&&(0,l.createElement)(x,{className:_,fill:u?"currentColor":"none"}),(0,l.createElement)("div",{className:"grid gap-1"},t&&(0,l.createElement)("div",{className:y},t),(a||e)&&(0,l.createElement)("div",{className:"space-y-2"},a&&(0,l.createElement)("div",{className:E},"string"==typeof a?(0,l.createElement)("span",{className:"leading-relaxed",dangerouslySetInnerHTML:{__html:a}}):(0,l.createElement)("span",{className:"leading-relaxed"},a)),e&&(0,l.createElement)("div",{className:E},e)))))}},9806:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ke});var l=t(1609),r=t(8266),n=t(7102),c=t(4758),s=t(367),o=t(4585);function i(){const{activeMenuItem:e,setActiveMenuItem:a}=(0,c.C)(),{settings:t}=(0,o.C)(),{thirdPartyVisible:l}=window.SPCDash;return{setActiveMenuItem:a,activeMenuItem:e,navItems:s.XQ.filter((({id:e})=>e===s.kl.ADVANCED?Boolean(t.show_advanced):e!==s.kl.COMPATIBILITIES||Boolean(l)))}}var d=t(504),m=t(8323),u=t(4120),p=t(2748),g=t(1765),f=t(1486),h=t(5181),b=t(9391),_=t(3781),E=t(3327),y=t(7723);const w=()=>{const{wpConfigWritable:e,wpContentWritable:a,i18n:t}=window.SPCDash,{validPro:r}=(0,c.C)(),{isToggleOn:n,cloudflareConnected:s}=(0,o.C)(),{setActiveMenuItem:d}=i(),m=[{id:"cf_fallback_cache",type:"toggle",label:(0,y.__)("Enable Disk Page cache","wp-cloudflare-page-cache"),description:(0,y.__)("Dramatically improves page loading speed by storing cached pages on your server.","wp-cloudflare-page-cache"),children:s?(0,l.createElement)(b.A,{type:"info",className:"mt-4",description:(0,y.__)("If you enable the Disk Page cache is strongly recommended disable all page caching functions of other plugins.","wp-cloudflare-page-cache")}):null},{id:"cf_fallback_cache_excluded_cookies",type:"textarea",label:(0,y.__)("Skip Caching for These Cookies","wp-cloudflare-page-cache"),description:(0,y.__)("Pages won't be cached when these cookie patterns are detected. One pattern per line. Supports regex patterns (uses preg_grep for matching).","wp-cloudflare-page-cache")},{id:"cf_fallback_cache_excluded_urls",type:"textarea",label:(0,y.__)("Prevent the following URIs to be cached","wp-cloudflare-page-cache"),description:(0,l.createElement)("div",null,(0,y.__)("One URI per line. You can use the * for wildcard URLs.","wp-cloudflare-page-cache"),(0,l.createElement)("br",null),(0,l.createElement)("div",{className:"text-sm text-muted-foreground mt-2"},`${(0,y.__)("Example","wp-cloudflare-page-cache")}:`,(0,l.createElement)("br",null),(0,l.createElement)("pre",null,"/my-page",(0,l.createElement)("br",null),"/my-main-page/my-sub-page",(0,l.createElement)("br",null),"/my-main-page*",(0,l.createElement)("br",null))))},{id:"cf_excluded_url_params",type:r?"textarea":"toggle",label:(0,y.__)("Ignore marketing parameters","wp-cloudflare-page-cache"),description:(0,y.__)("Significantly increases cache hit rate by ignoring common marketing and tracking parameters in URLs, treating them as the same page for caching purposes.","wp-cloudflare-page-cache"),utmCampaign:"ignore-marketing-params",locked:!r},{id:"show_advanced",type:"toggle",label:(0,y.__)("Show advanced settings","wp-cloudflare-page-cache"),description:(0,l.createElement)("div",null,(0,y.__)("Enable to display the Advanced Settings tab (optional, recommended only for advanced configurations).","wp-cloudflare-page-cache"),n("show_advanced")&&(0,l.createElement)(f.A,{from:"bottom",className:"inline-flex"}," ",(0,l.createElement)("button",{className:"text-orange-500 dark:text-orange-400 ml-2 font-medium",onClick:()=>d("advanced")},(0,y.__)("Go to Advanced Settings","wp-cloudflare-page-cache"))))}];return(0,l.createElement)(_.A,null,(0,l.createElement)(h.Ay,null,(!e||!a)&&(0,l.createElement)(h.aR,null,(0,l.createElement)(b.A,{type:"warning"},(0,l.createElement)("ul",null,!e&&(0,l.createElement)("li",{className:"last:mb-0",dangerouslySetInnerHTML:{__html:t.wpConfigNotWritable}}),!e&&(0,l.createElement)("li",{className:"last:mb-0",dangerouslySetInnerHTML:{__html:t.wpContentNotWritable}})))),(0,l.createElement)(h.Wu,{className:"p-0"},(0,l.createElement)(E.A,{controls:m}))))};var x=t(122),v=t(5975),k=t(6816),N=t(9407);const C=(0,N.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),A=(0,N.A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var S=t(684),z=t(8931),R=t(6284),L=t(6087),P=t(3540),I=t(3160);const T=({wrapperClassName:e,...a})=>{const[t,r]=(0,L.useState)(!1);return(0,l.createElement)("div",{className:(0,p.cn)("relative",e)},(0,l.createElement)(R.p,{...a,type:t?"text":"password"}),!!a.value&&(0,l.createElement)(v.A,{variant:"link",size:"icon",type:"button",onClick:()=>r(!t),icon:t?P.A:I.A,className:"absolute right-0 top-1/2 -translate-y-1/2 p-2 right-1"},(0,l.createElement)("span",{className:"sr-only"},t?(0,y.__)("Hide password","wp-cloudflare-page-cache"):(0,y.__)("Show password","wp-cloudflare-page-cache"))))};var M=t(8068);const O={errorMessage:"",isConnecting:!1,alreadyOnCloudflare:!1,cloudflareCheckDone:!1},D=(e,a)=>{switch(a.type){case"SET_ERROR_MESSAGE":return{...e,errorMessage:a.payload.errorMessage};case"CLEAR_ERROR_MESSAGE":return{...e,errorMessage:""};case"SET_IS_CONNECTING":return{...e,isConnecting:a.payload.isConnecting};case"SET_ALREADY_ON_CLOUDFLARE":return{...e,alreadyOnCloudflare:a.payload.alreadyOnCloudflare};case"SET_CLOUDFLARE_CHECK_DONE":return{...e,cloudflareCheckDone:a.payload.cloudflareCheckDone};default:return e}},j=(0,L.createContext)(void 0),F=({children:e})=>{const[a,t]=(0,L.useReducer)(D,O);return(0,l.createElement)(j.Provider,{value:{state:a,dispatch:t}},e)},q=()=>{const e=(0,L.useContext)(j);if(void 0===e)throw new Error("useConnectionStore must be used within a ConnectionProvider");const{state:a,dispatch:t}=e;return{errorMessage:a.errorMessage,setErrorMessage:e=>t({type:"SET_ERROR_MESSAGE",payload:{errorMessage:e}}),clearErrorMessage:()=>t({type:"CLEAR_ERROR_MESSAGE"}),isConnecting:a.isConnecting,setIsConnecting:e=>t({type:"SET_IS_CONNECTING",payload:{isConnecting:e}}),alreadyOnCloudflare:a.alreadyOnCloudflare,setAlreadyOnCloudflare:e=>t({type:"SET_ALREADY_ON_CLOUDFLARE",payload:{alreadyOnCloudflare:e}}),cloudflareCheckDone:a.cloudflareCheckDone,setCloudflareCheckDone:e=>t({type:"SET_CLOUDFLARE_CHECK_DONE",payload:{cloudflareCheckDone:e}})}},G=()=>{const{setErrorMessage:e}=q(),{asyncLocked:a,lockAsync:t}=(0,c.C)(),{settings:r,updateSettings:n}=(0,o.C)(),[s,i]=(0,L.useState)(!1),[d,m]=(0,L.useState)({email:r.cf_email,apiKey:r.cf_apikey,zoneId:r.cf_zoneid_list?Object.values(r.cf_zoneid_list)[0]:""}),u=Object.keys(r.cf_zoneid_list||{}).length>0?!d.zoneId:!d.email||!d.apiKey;return(0,l.createElement)("form",{onSubmit:async a=>{e(""),a.preventDefault(),t(!0),i(!0);const l={auth_mode:"api_key",email:d.email,api_key:d.apiKey},r=await M.R.cloudflareConnect(l);t(!1),i(!1),r.success?n(r.data.settings):e(r.message)}},(0,l.createElement)(f.A,null,(0,l.createElement)("div",{className:"mb-6"},(0,l.createElement)("label",{htmlFor:"cf_email",className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("Cloudflare Email","wp-cloudflare-page-cache")),(0,l.createElement)(R.p,{type:"email",id:"cf_email",disabled:a||!!r.cf_zoneid_list,value:d.email,onChange:e=>{m({...d,email:e.target.value})},className:"w-full max-w-full h-10 m-0",placeholder:"user@example.com"}),(0,l.createElement)("p",{className:"text-xs text-muted-foreground mt-1.5"},(0,y.__)("The email address you use to log in to Cloudflare","wp-cloudflare-page-cache"))),(0,l.createElement)("div",{className:"mb-6"},(0,l.createElement)("label",{htmlFor:"cf_api_key",className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("Global API Key","wp-cloudflare-page-cache")),(0,l.createElement)(T,{type:"password",id:"cf_api_key",disabled:a||!!r.cf_zoneid_list,value:d.apiKey,className:"w-full max-w-full h-10 m-0",autoComplete:"off",onChange:e=>{m({...d,apiKey:e.target.value})}}),(0,l.createElement)("div",{className:"mt-2 text-xs text-muted-foreground"},(0,l.createElement)("p",{className:"mb-2 text-xs text-muted-foreground"},(0,y.__)("To get your API credentials:","wp-cloudflare-page-cache")),(0,l.createElement)("ol",{className:"list-decimal list-inside space-y-2 ml-2"},(0,l.createElement)("li",null,(0,y.__)('Log in to your Cloudflare account and click on "My Profile"',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,y.__)('Click on API Tokens and scroll to the bottom and click on "View beside Global API Key"',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,y.__)('Enter your Cloudflare login password and click on "View"',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,y.__)("Copy the API key and paste it in the form below","wp-cloudflare-page-cache")))))),(0,l.createElement)("div",{className:"flex justify-end"},(0,l.createElement)(v.A,{className:"w-full",variant:"blue",type:"submit",loader:s,disabled:u||a,icon:S.A},s?(0,y.__)("Connecting to Cloudflare","wp-cloudflare-page-cache")+"...":(0,y.__)("Connect to Cloudflare","wp-cloudflare-page-cache"))))},U=()=>{const{asyncLocked:e,lockAsync:a}=(0,c.C)(),{settings:t,updateSettings:r}=(0,o.C)(),{setErrorMessage:n}=q(),[s,i]=(0,L.useState)(!1),[d,m]=(0,L.useState)({apiToken:t.cf_apitoken,domainName:t.cf_apitoken_domain}),u=!d.apiToken;return(0,l.createElement)("form",{onSubmit:async e=>{n(""),e.preventDefault(),a(!0),i(!0);const t={auth_mode:"api_token",api_token:d.apiToken},l=await M.R.cloudflareConnect(t);a(!1),i(!1),l.success?r(l.data.settings):n(l.message)},className:"grid gap-5"},(0,l.createElement)(f.A,null,(0,l.createElement)("div",{className:"mb-6"},(0,l.createElement)("label",{htmlFor:"cf_api_token",className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("API Token","wp-cloudflare-page-cache")),(0,l.createElement)(T,{type:"password",id:"cf_api_token",disabled:e||!!t.cf_zoneid_list,value:d.apiToken,className:"w-full max-w-full h-10 m-0",autoComplete:"off",onChange:e=>{m({...d,apiToken:e.target.value})}}),(0,l.createElement)("div",{className:"mt-2 text-xs text-muted-foreground"},(0,l.createElement)("p",{className:"mb-2 text-xs text-muted-foreground"},(0,y.__)("To get your API token:","wp-cloudflare-page-cache")),(0,l.createElement)("ol",{className:"list-decimal list-inside space-y-2 ml-2"},(0,l.createElement)("li",null,(0,y.__)('Log into your Cloudflare dashboard and navigate to "My Profile" > "API Tokens"',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,y.__)('Click "Create Token" and select the "WordPress" template',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,L.createInterpolateElement)((0,y.__)("Add the <strong>Zone > Cache Rules > Edit</strong> permission","wp-cloudflare-page-cache"),{strong:(0,l.createElement)("strong",null)})),(0,l.createElement)("li",null,(0,L.createInterpolateElement)((0,y.__)("Add the <strong><strong>Zone > Transform Rules > Edit</strong></strong> permission","wp-cloudflare-page-cache"),{strong:(0,l.createElement)("strong",null)})),(0,l.createElement)("li",null,(0,y.__)('Click "Continue to summary", review permissions, and click "Create Token"',"wp-cloudflare-page-cache")),(0,l.createElement)("li",null,(0,y.__)("Copy the generated token","wp-cloudflare-page-cache")))))),(0,l.createElement)("div",{className:"flex justify-end"},(0,l.createElement)(v.A,{className:"w-full",variant:"blue",type:"submit",loader:s,disabled:u||e,icon:S.A},s?(0,y.__)("Connecting to Cloudflare","wp-cloudflare-page-cache")+"...":(0,y.__)("Connect to Cloudflare","wp-cloudflare-page-cache"))))};var H=t(4471),W=t(5773);const B=(0,N.A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var K=t(4721);const J=()=>{const{settings:e,updateSettings:a,cloudflareConnected:t}=(0,o.C)(),{asyncLocked:r,lockAsync:n}=(0,c.C)(),{setErrorMessage:i}=q(),[d,m]=(0,L.useState)(!1),[u,p]=(0,L.useState)(!1),[g,f]=(0,L.useState)(!1),[h,b]=(0,L.useState)(Object.values(e.cf_zoneid_list)[0]||""),_=[{label:(0,y.__)("Select a zone","wp-cloudflare-page-cache"),value:""},...Object.entries(e.cf_zoneid_list).map((([e,a])=>({label:e,value:a})))],E=Object.keys(e.cf_zoneid_list).find((a=>e.cf_zoneid_list[a]===e.cf_zoneid))||"",w=e.cf_auth_mode===s.wf.API_TOKEN;return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"border rounded-lg p-3 bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700/30"},(0,l.createElement)("div",{className:"flex items-center justify-between"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)(H.A,{className:"size-5 text-green-600 dark:text-green-400 mr-3"}),(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"text-sm font-semibold text-green-900 dark:text-green-200"},(0,y.__)("Successfully Connected","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-sm text-green-800 dark:text-green-300"},w?(0,y.__)("Using API Token","wp-cloudflare-page-cache"):(0,y.__)("Account:","wp-cloudflare-page-cache")+" "+e.cf_email))),(0,l.createElement)(v.A,{onClick:async()=>{if(!window.confirm((0,y.__)("Are you sure you want to disconnect Cloudflare?","wp-cloudflare-page-cache")))return;i(""),n(!0),p(!0);const e=await M.R.cloudflareDisconnect();if(n(!1),p(!1),e.success)return a(e.data.settings),void K.oR.success(e.message);K.oR.error(e.message)},disabled:r,loader:u,variant:"link",size:"sm",className:"text-red-500 dark:text-red-400 dark:hover:text-red-500 bg-transparent hover:bg-transparent"},u?(0,y.__)("Disconnecting","wp-cloudflare-page-cache")+"...":(0,y.__)("Disconnect","wp-cloudflare-page-cache")))),(!t||g)&&(0,l.createElement)("form",{className:"mt-6",onSubmit:async e=>{if(e.preventDefault(),i(""),!h)return;n(!0),m(!0);const t={zone_id:h},l=await M.R.cloudflareConfirmZoneId(t);m(!1),n(!1),l.success?l?.data?.permissions?.length>0?i("permission_error"):(a(l.data.settings),K.oR.success(l.message),f(!1)):K.oR.error(l.message)}},(0,l.createElement)("label",{htmlFor:"auth-mode",className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("Select Zone","wp-cloudflare-page-cache")),(0,l.createElement)(x.A,{id:"zone-id",className:"w-full max-w-full h-10",disabled:r,value:h,onChange:e=>{b(e)},options:_}),(0,l.createElement)("p",{className:"text-xs text-muted-foreground mt-1.5"},(0,y.__)("Choose the domain you want to optimize with Cloudflare","wp-cloudflare-page-cache")),(0,l.createElement)("div",{className:"flex items-center gap-2 mt-3"},(0,l.createElement)(v.A,{className:"rounded",type:"submit",size:"sm",disabled:d||r||!h,loader:d,variant:"green",icon:W.A},d?(0,y.__)("Saving","wp-cloudflare-page-cache")+"...":(0,y.__)("Save Zone","wp-cloudflare-page-cache")),g&&(0,l.createElement)(v.A,{variant:"outline",className:"rounded",size:"sm",onClick:()=>f(!1)},(0,y.__)("Cancel","wp-cloudflare-page-cache")))),t&&!g&&(0,l.createElement)("div",{className:"mt-6"},(0,l.createElement)("p",{className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("Active Zone","wp-cloudflare-page-cache")),(0,l.createElement)("div",{className:"flex items-center justify-between p-3 bg-muted border border-muted-foreground/20 rounded-md"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)(S.A,{className:"size-4 text-green-600 dark:text-green-400 mr-2"}),(0,l.createElement)("span",{className:"font-medium"},E)),(0,l.createElement)(v.A,{onClick:()=>f(!0),variant:"link",className:"p-0 h-auto text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-500 font-medium"},(0,l.createElement)(B,{className:"size-3 mr-1"}),(0,y.__)("Change Zone","wp-cloudflare-page-cache"))),(0,l.createElement)("p",{className:"text-xs text-muted-foreground mt-1.5"},(0,y.__)("This domain is currently optimized with Cloudflare","wp-cloudflare-page-cache"))))},V=({url:e,children:a,className:t=""})=>(0,l.createElement)("a",{className:(0,p.cn)("inline-flex gap-0.5 items-center underline text-foreground hover:text-muted-foreground",t),href:e,target:"_blank",rel:"noreferrer"},a,(0,l.createElement)(z.A,{size:12})),X=[{label:(0,y.__)("API Key","wp-cloudflare-page-cache"),value:s.wf.API_KEY.toString()},{label:`${(0,y.__)("API Token","wp-cloudflare-page-cache")} (${(0,y.__)("Recommended","wp-cloudflare-page-cache")})`,value:s.wf.API_TOKEN.toString()}],Z=()=>{const{errorMessage:e}=q();if(!e)return null;const a=e.split(":");let t=(0,y.__)("Connection Failed:","wp-cloudflare-page-cache"),r=(0,l.createElement)(l.Fragment,null,a.slice(1).join(":").trim());return"permission_error"===e&&(t=(0,y.__)("Permission Error:","wp-cloudflare-page-cache"),r=(0,L.createInterpolateElement)((0,y.__)("Please make sure you grant the token permissions as outlined in <a>this documentation</a>.","wp-cloudflare-page-cache"),{a:(0,l.createElement)(V,{url:"https://docs.themeisle.com/article/2077-super-page-cache-cloudflare-permissions",className:"underline text-red-700 font-semibold"})})),(0,l.createElement)(f.A,{from:"top"},(0,l.createElement)(b.A,{type:"error",className:"rounded-none border-b border-x-0 border-t-0"},(0,l.createElement)("strong",{className:"mr-1"},t),(0,l.createElement)("span",null,r)))},$=()=>{const{homeURL:e,ruleNeedsRepair:a,i18n:t}=window.SPCDash,{alreadyOnCloudflare:r,setAlreadyOnCloudflare:i,cloudflareCheckDone:d,setCloudflareCheckDone:m}=q(),{asyncLocked:u,lockAsync:g}=(0,c.C)(),{cloudflareConnected:w,settings:N}=(0,o.C)(),[R,P]=(0,L.useState)(parseInt(N.cf_auth_mode));(0,L.useEffect)((()=>{d||(async()=>{const a=await fetch(`${e}/cdn-cgi/trace`);if(m(!0),!a.ok||200!==a.status)return;const t=await a.text();t.includes("h=")&&t.includes("ip=")&&i(!0)})()}),[]);const I=!r&&!w&&!N.cf_zoneid_list,T=!!N.cf_zoneid_list&&Object.keys(N.cf_zoneid_list).length>0,[O,D]=(0,L.useState)(!1);return(0,l.createElement)(_.A,null,a&&(0,l.createElement)(b.A,{type:"warning",title:t.ruleFixTitle,description:t.ruleFixDescription},(0,l.createElement)(v.A,{variant:"orange",size:"sm",className:"rounded-sm",onClick:async()=>{g(!0),D(!0);const e=await M.R.repairCloudflareRule();if(e.success)return K.oR.success(e.message,{description:(0,y.__)("Page will reload in a few seconds.","wp-cloudflare-page-cache")}),void setTimeout((()=>{window.location.reload()}),3e3);D(!1),g(!1),K.oR.error(e.message,{description:(0,y.__)("Something went wrong. Please reload the page and try again. If the issue persists, disconnect and reconnect your Cloudflare account.","wp-cloudflare-page-cache")})},disabled:u,loader:O,icon:k.A},O?(0,y.__)("Fixing Rule","wp-cloudflare-page-cache")+"...":(0,y.__)("Fix Rule","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("div",{className:(0,p.cn)("size-8 rounded-lg flex items-center justify-center mr-3",{"bg-green-100 dark:bg-green-900/50":w,"bg-muted":!w})},w?(0,l.createElement)(C,{className:"size-4 text-green-600 dark:text-green-400"}):(0,l.createElement)(A,{className:"size-4 text-gray-400 dark:text-gray-500"})),(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"font-semibold text-base text-foreground"},(0,y.__)("Cloudflare Connection","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-sm text-muted-foreground"},(0,y.__)("Connect your Cloudflare account to enable CDN features","wp-cloudflare-page-cache"))))),(0,l.createElement)(Z,null),(0,l.createElement)(h.Wu,{className:"p-0"},!T&&(0,l.createElement)("div",{className:"p-4"},I&&(0,l.createElement)(b.A,{type:"info",icon:S.A,className:"mb-6",title:(0,y.__)("Don't have a Cloudflare account?","wp-cloudflare-page-cache"),description:(0,y.__)("Cloudflare significantly speeds up your website by leveraging a global network of servers to deliver content faster to your visitors.","wp-cloudflare-page-cache")},(0,l.createElement)(v.A,{href:s.A.CF_SIGNUP,size:"sm",className:"rounded-sm",variant:"blue",target:"_blank"},(0,l.createElement)(z.A,{className:"size-3"}),(0,l.createElement)("span",null,(0,y.__)("Sign up for free","wp-cloudflare-page-cache")))),(0,l.createElement)("div",null,(0,l.createElement)("label",{htmlFor:"auth-mode",className:"block text-sm font-medium text-foreground/80 mb-2"},(0,y.__)("Authentication Mode","wp-cloudflare-page-cache")),(0,l.createElement)(x.A,{id:"auth-mode",className:"w-full max-w-full h-10",disabled:u,value:R.toString(),onChange:e=>{P(parseInt(e))},options:X}),(0,l.createElement)("p",{className:"text-xs text-muted-foreground mt-1.5"},(0,y.__)("API Tokens are more secure and provide better control over permissions","wp-cloudflare-page-cache"))),(0,l.createElement)("div",{className:"mt-6"},R===s.wf.API_KEY&&(0,l.createElement)(G,null),R===s.wf.API_TOKEN&&(0,l.createElement)(U,null))),T&&(0,l.createElement)(f.A,null,(0,l.createElement)(J,null)),(0,l.createElement)(n.A,null),w&&(0,l.createElement)(E.A,{controls:[{id:"enable_cache_rule",type:"toggle",label:(0,y.__)("Enable Cloudflare CDN & Caching","wp-cloudflare-page-cache"),description:(0,y.__)("Serve cached files from Cloudflare using Cache Rule.","wp-cloudflare-page-cache"),hide:!w}]}))))},Y=()=>{const{i18n:e,homeURL:a}=window.SPCDash,{validPro:t}=(0,c.C)(),{pageCacheOn:r,isToggleOn:n}=(0,o.C)(),s={js:[{id:"cf_defer_js",type:"toggle",label:(0,y.__)("Defer Javascript","wp-cloudflare-page-cache"),description:(0,l.createElement)(l.Fragment,null,(0,y.__)("Deferring Javascript eliminates render-blocking JS on your site and can improve load time.","wp-cloudflare-page-cache")," ",(0,l.createElement)(V,{url:"https://docs.themeisle.com/article/2058-defer-js"},(0,y.__)("More Info","wp-cloudflare-page-cache"))),utmCampaign:"defer-js",locked:!t},{id:"cf_delay_js",type:"toggle",label:(0,y.__)("Delay Javascript","wp-cloudflare-page-cache"),description:(0,l.createElement)(l.Fragment,null,(0,y.__)("It makes the website faster by waiting to load JavaScript files until the user interacts with the page, like scrolling or clicking.","wp-cloudflare-page-cache")," ",(0,l.createElement)(V,{url:"https://docs.themeisle.com/article/2057-delay-js"},(0,y.__)("More Info","wp-cloudflare-page-cache"))),utmCampaign:"delay-js",locked:!t},{id:"cf_delay_js_excluded_files",type:"textarea",placeholder:"example-1.min.js\nexample-2.min.js",label:(0,y.__)("Exclude JS","wp-cloudflare-page-cache"),description:(0,y.__)("Enter keywords (one per line) to be matched against external file sources or inline JavaScript content.","wp-cloudflare-page-cache"),utmCampaign:"delay-js-exclusion-files",hide:t&&!n("cf_delay_js"),locked:!t},{id:"cf_delay_js_excluded_paths",type:"textarea",placeholder:"/about-us\n/blog/awesome-post",label:(0,y.__)("Exclude pages","wp-cloudflare-page-cache"),description:(0,l.createElement)("span",{dangerouslySetInnerHTML:{__html:e.excludeJsPagesDescription}}),utmCampaign:"delay-js-exclusion-paths",hide:t&&!n("cf_delay_js"),locked:!t}],fonts:[{id:"optimize_google_fonts",type:"toggle",label:(0,y.__)("Optimize Google Fonts","wp-cloudflare-page-cache"),description:(0,y.__)("Combine multiple fonts into a single request or CSS file.","wp-cloudflare-page-cache")},{id:"local_google_fonts",type:"toggle",label:(0,y.__)("Local Google Fonts","wp-cloudflare-page-cache"),description:(0,y.__)("Download and load Google Fonts from your server instead of Google's servers.","wp-cloudflare-page-cache")}],assets:[{id:"enable_assets_manager",type:"toggle",label:(0,y.__)("Enable assets manager","wp-cloudflare-page-cache"),description:(0,y.__)("Control CSS & JavaScript loading based on specific contexts."),children:n("enable_assets_manager")&&(0,l.createElement)(v.A,{className:"mt-2",href:a+"?spc_assets=yes",target:"_blank",variant:"orange",size:"sm"},(0,y.__)("Manage assets","wp-cloudflare-page-cache"))}]};return(0,l.createElement)(_.A,null,(0,l.createElement)(h.Ay,null,t&&!r&&(0,l.createElement)(h.aR,null,(0,l.createElement)(b.A,{type:"warning"},(0,l.createElement)("span",{dangerouslySetInnerHTML:{__html:e.warningJsSection}}))),(0,l.createElement)(h.aR,{className:"bg-muted"},(0,l.createElement)("h3",{className:"font-semibold text-base flex items-center"},(0,y.__)("Javascript Optimizations","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Wu,{className:"p-0"},(0,l.createElement)(E.A,{controls:s.js}))),(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,{className:"bg-muted"},(0,l.createElement)("h3",{className:"font-semibold text-base flex items-center"},(0,y.__)("Fonts Optimizations","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Wu,{className:"p-0"},(0,l.createElement)(E.A,{controls:s.fonts}))),(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,{className:"bg-muted"},(0,l.createElement)("h3",{className:"font-semibold text-base flex items-center"},(0,y.__)("Assets Manager","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Wu,{className:"p-0"},(0,l.createElement)(E.A,{controls:s.assets}))))};var Q=t(7213);const ee=(0,N.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ae=(0,N.A)("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),te=(0,N.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var le=t(1181);const re=(0,N.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ne=()=>{const[e,a]=(0,L.useState)(!1),{logoURL:t,ratingByline:r,activeInstalls:n,thickboxURL:c,cta:s}=window.SPCDash.optimoleData,o=[{icon:ee,text:(0,y.__)("Real-time cloud-based image optimization","wp-cloudflare-page-cache")},{icon:ae,text:(0,y.__)("Automatic Machine Learning compression","wp-cloudflare-page-cache")},{icon:S.A,text:(0,y.__)("Global CDN delivery from 450+ locations","wp-cloudflare-page-cache")},{icon:te,text:(0,y.__)("Device-specific optimization for perfect sizing","wp-cloudflare-page-cache")}];return(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,{className:"flex items-center gap-4 bg-muted"},(0,l.createElement)("div",{className:"flex-shrink-0"},(0,l.createElement)("img",{onLoad:()=>{a(!0)},src:t,alt:(0,y.__)("Optimole Logo","wp-cloudflare-page-cache"),className:(0,p.cn)("size-16",e?"opacity-100":"opacity-0 transition-opacity duration-500")})),(0,l.createElement)("div",{className:"flex-1 grid gap-0"},(0,l.createElement)("h2",{className:"text-xl font-bold text-2xl mb-2 leading-tight"},(0,y.__)("Speed up your website with smart image optimization","wp-cloudflare-page-cache")),(0,l.createElement)("span",{className:"text-muted-foreground text-sm"},(0,y.__)("By the Super Page Cache Pro team","wp-cloudflare-page-cache")))),(0,l.createElement)(h.Wu,null,(0,l.createElement)(b.A,{type:"info",icon:ee,fillIcon:!0,title:(0,y.__)("Images can account for 50% of your loading time!","wp-cloudflare-page-cache")}),(0,l.createElement)("p",{className:"text-muted-foreground text-sm my-6"},(0,y.__)("Optimole automatically optimizes your images in real-time, helping your website gain precious seconds while saving you time. With just one click, it intelligently optimizes and serves your images for the best user experience.","wp-cloudflare-page-cache")),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},o.map(((e,a)=>(0,l.createElement)("div",{key:a,className:"flex items-center gap-3 p-3 rounded-lg bg-muted hover:bg-muted/80 transition-colors"},(0,l.createElement)(e.icon,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,l.createElement)("span",{className:"text-sm"},e.text))))),(0,l.createElement)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 text-white"},(0,l.createElement)("div",{className:"flex items-center justify-between mb-4"},(0,l.createElement)("div",{className:"text-lg font-semibold"},(0,y.__)("Install Optimole - Smart WordPress Image Optimizer","wp-cloudflare-page-cache"))),(0,l.createElement)("div",{className:"flex items-center gap-6 mb-4"},(0,l.createElement)("div",{className:"flex items-center gap-2"},(0,l.createElement)("div",{className:"flex items-center gap-1"},[...Array(5)].map(((e,a)=>(0,l.createElement)(le.A,{key:a,className:"w-4 h-4 fill-yellow-400 text-yellow-400"})))),(0,l.createElement)("span",{className:"text-blue-100 text-sm"},r))),(0,l.createElement)("div",{className:"flex items-center justify-between"},(0,l.createElement)("span",{className:"text-blue-100 text-sm font-medium"},n),(0,l.createElement)(v.A,{href:c,target:"_blank",size:"lg",className:"thickbox group bg-white border-white text-blue-600 hover:bg-blue-50 shadow-blue-500/60 hover:shadow-blue-500/60 transition-all shadow-lg hover:shadow-xl"},s,(0,l.createElement)(re,{className:"size-4 group-hover:translate-x-1 transition-transform"}))))))},ce=()=>{const{i18n:e,isPro:a}=window.SPCDash,{pageCacheOn:t,isToggleOn:r,isValueSelected:n,updateSetting:c}=(0,o.C)(),{active:s}=window.SPCDash.optimoleData,i=[{id:"cf_native_lazy_loading",type:"toggle",label:(0,y.__)("Native Lazy Load","wp-cloudflare-page-cache"),disabled:r("cf_lazy_loading")},{id:"cf_lazy_loading",type:"toggle",label:(0,y.__)("Lazy Load","wp-cloudflare-page-cache"),description:(0,l.createElement)(l.Fragment,null,(0,y.__)("Disables native lazy-loading and uses a custom solution for better control over image loading, potentially improving performance.","wp-cloudflare-page-cache"),(0,l.createElement)(V,{url:"https://docs.themeisle.com/article/2059-native-lazyloading-vs-spc-lazyloading"},(0,y.__)("More Info","wp-cloudflare-page-cache"))),sideEffectCallback:e=>{e&&c("cf_native_lazy_loading",0)}},{id:"cf_lazy_load_behaviour",type:"select",label:(0,y.__)("Lazy load behavior for images","wp-cloudflare-page-cache"),description:(0,l.createElement)(l.Fragment,null,(0,y.__)("Choose how we will handle lazy loading for images on your website.","wp-cloudflare-page-cache"),(0,l.createElement)("p",{className:"mt-2 pt-2 text-sm italic text-foreground/70"},(0,l.createElement)(Q.A,{className:"w-3 h-3 inline mr-1 mb-1"}),n("cf_lazy_load_behaviour","all")&&(0,y.__)("All images will use lazy loading regardless of position.","wp-cloudflare-page-cache"),n("cf_lazy_load_behaviour","fixed")&&(0,y.__)("Indicate how many images at the top of each page should bypass lazy loading, ensuring they're instantly visible.","wp-cloudflare-page-cache"),n("cf_lazy_load_behaviour","viewport")&&(0,l.createElement)(l.Fragment,null,(0,y.__)("Automatically detects and immediately loads images visible in the initial viewport. Detection is done with a lightweight client-side script that identifies what's visible on each user's screen. All other images will lazy load.","wp-cloudflare-page-cache"),!a&&(0,l.createElement)("p",{className:"text-sm mt-2 text-muted-foreground"},(0,y.__)("This feature is only available in the Pro version.","wp-cloudflare-page-cache"))))),options:[{label:(0,y.__)("Lazy load all images","wp-cloudflare-page-cache"),value:"all"},{label:(0,y.__)("Skip Lazy Loading for First Images","wp-cloudflare-page-cache"),value:"fixed"},{label:(a?"":"[PRO]")+" "+(0,y.__)("Skip Lazy Loading for Initial Viewport","wp-cloudflare-page-cache"),value:"viewport"}],hide:!r("cf_lazy_loading")},{id:"cf_lazy_load_skip_images",type:"number",label:(0,y.__)("Skip Lazy Loading for First Images","wp-cloudflare-page-cache"),min:0,description:e.bypassLazyLoadDescription,hide:!r("cf_lazy_loading")||!n("cf_lazy_load_behaviour","fixed")},{id:"cf_lazy_load_video_iframe",type:"toggle",label:(0,y.__)("Lazy load videos and iframes","wp-cloudflare-page-cache"),description:(0,y.__)("By default, lazy loading does not work for embedded videos and iframes. Enable this option to activate the lazy-load on these elements.","wp-cloudflare-page-cache"),hide:!r("cf_lazy_loading")},{id:"cf_lazy_load_excluded",type:"textarea",placeholder:"logo.jpg\nexcluded-class",label:(0,y.__)("Media Lazy Load Exclusions","wp-cloudflare-page-cache"),description:(0,y.__)("Enter one keyword per line to exclude items from lazy loading by checking if URLs, class names, or data attributes contain these keywords.","wp-cloudflare-page-cache"),hide:!r("cf_lazy_loading")},{id:"cf_lazy_load_bg",type:"toggle",label:(0,y.__)("Background images lazy load","wp-cloudflare-page-cache"),hide:!r("cf_lazy_loading")},{id:"cf_lazy_load_bg_selectors",type:"textarea",placeholder:".bg-selector\nbody > .container",label:(0,y.__)("Background Images Lazy Load Exclusions","wp-cloudflare-page-cache"),description:(0,y.__)("Enter CSS selectors for any background images not covered by the default lazy loading. This ensures those images also benefit from the optimized loading process.","wp-cloudflare-page-cache"),hide:!(r("cf_lazy_load_bg")&&r("cf_lazy_loading"))}];return(0,l.createElement)(_.A,null,(0,l.createElement)(h.Ay,null,!t&&(0,l.createElement)(h.aR,null,(0,l.createElement)(b.A,{type:"warning"},(0,l.createElement)("span",{dangerouslySetInnerHTML:{__html:e.warningMediaSection}}))),(0,l.createElement)(h.Wu,{className:"p-0"},(0,l.createElement)(E.A,{controls:i}))),!s&&(0,l.createElement)(ne,null))},se=(0,L.lazy)((()=>Promise.all([t.e(674),t.e(70)]).then(t.bind(t,4544)))),oe=(0,L.lazy)((()=>t.e(402).then(t.bind(t,3402)))),ie=(0,L.lazy)((()=>t.e(705).then(t.bind(t,5705)))),de=(0,L.lazy)((()=>t.e(938).then(t.bind(t,4938)))),me=(0,L.lazy)((()=>t.e(535).then(t.bind(t,1535)))),ue=(0,L.lazy)((()=>t.e(255).then(t.bind(t,4255)))),pe=(0,L.lazy)((()=>t.e(541).then(t.bind(t,9541)))),ge=(0,L.lazy)((()=>t.e(328).then(t.bind(t,8328)))),fe=(0,L.lazy)((()=>t.e(111).then(t.bind(t,4111)))),he=(0,L.lazy)((()=>t.e(395).then(t.bind(t,8395)))),be=(0,L.lazy)((()=>t.e(550).then(t.bind(t,6550)))),_e=(0,L.lazy)((()=>t.e(738).then(t.bind(t,5738)))),Ee=(0,L.lazy)((()=>t.e(524).then(t.bind(t,524)))),ye=(0,L.lazy)((()=>t.e(791).then(t.bind(t,9791)))),we=(0,L.lazy)((()=>t.e(279).then(t.bind(t,5279)))),xe=(0,L.lazy)((()=>t.e(463).then(t.bind(t,9463)))),ve=(0,L.lazy)((()=>t.e(349).then(t.bind(t,1349)))),ke=(0,L.lazy)((()=>t.e(648).then(t.bind(t,5648)))),Ne=()=>{const e=window.SPCDash.thirdPartyIntegrations;return(0,l.createElement)(_.A,null,e.woocommerce&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(se,null)),e.edd&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ve,null)),e.autoptimize&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(xe,null)),e.w3tc&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(we,null)),e.litespeed_cache&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ye,null)),e.hummingbird&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(Ee,null)),e.wp_optimize&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(_e,null)),e.flying_press&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(be,null)),e.wp_rocket&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(he,null)),e.wp_asset_cleanup&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(fe,null)),e.nginx_helper&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ge,null)),e.wp_performance&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(pe,null)),e.yasr&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ue,null)),e.swift_performance&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(me,null)),e.siteground&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(de,null)),e.wp_engine&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ie,null)),e.spinup_wp&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(ke,null)),e.kinsta&&(0,l.createElement)(L.Suspense,null,(0,l.createElement)(oe,null)))};var Ce=t(5731),Ae=t(6466);const Se=()=>{const{isToggleOn:e}=(0,o.C)(),a=[{id:"database_optimization",type:"toggle",label:(0,y.__)("Enable Database Optimization","wp-cloudflare-page-cache"),description:(0,y.__)("Optimize your database by removing unnecessary data, such as post revisions, auto-draft posts, trashed posts, spam comments, and transients.","wp-cloudflare-page-cache")}];return(0,l.createElement)(_.A,null,(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.Wu,{className:"p-0 divide-y divide-border"},(0,l.createElement)(E.A,{controls:a}),e("database_optimization")&&(0,l.createElement)(f.A,{className:"divide-y divide-foreground/10"},(0,l.createElement)(ze,{title:(0,y.__)("Post Revisions Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Deletes old revisions across all post types (posts, pages, custom post types). WordPress saves a copy every time you edit content, and cleaning them up helps reduce database size.","wp-cloudflare-page-cache"),scheduleKey:"post_revision_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Auto-Draft Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Deletes all auto-draft entries across all post types (posts, pages, custom post types). Useful for removing leftover drafts WordPress creates automatically.","wp-cloudflare-page-cache"),scheduleKey:"auto_draft_post_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Trashed Posts Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Permanently deletes all items in the trash, across all post types (posts, pages, custom post types). Helps keep your site clean by removing deleted content right away.","wp-cloudflare-page-cache"),scheduleKey:"trashed_post_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Spam Comments Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Remove comments marked as spam by your spam filter or manually flagged as spam.","wp-cloudflare-page-cache"),scheduleKey:"spam_comment_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Trashed Comments Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Permanently deletes all comments that are currently in the trash. This helps keep your site clean by removing deleted comments right away.","wp-cloudflare-page-cache"),scheduleKey:"trashed_comment_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Transients Data Cleanup","wp-cloudflare-page-cache"),description:(0,y.__)("Deletes all transients stored in your database. Useful for freeing up space and resetting temporary data.","wp-cloudflare-page-cache"),scheduleKey:"all_transients_interval",actionLabel:(0,y.__)("Clean Now","wp-cloudflare-page-cache")}),(0,l.createElement)(ze,{title:(0,y.__)("Database Tables Optimization","wp-cloudflare-page-cache"),description:(0,y.__)("Runs the OPTIMIZE TABLE command on your database tables to defragment and reclaim unused space. Helps maintain database efficiency and reduce table overhead.","wp-cloudflare-page-cache"),scheduleKey:"optimize_tables_interval",actionLabel:(0,y.__)("Optimize Now","wp-cloudflare-page-cache")})))))},ze=({title:e,description:a,scheduleKey:t,actionLabel:r})=>{const{asyncLocked:n,lockAsync:s}=(0,c.C)(),{settings:i,updateSetting:d}=(0,o.C)(),[m,u]=(0,L.useState)(!1),p=Object.entries(window.SPCDash.databaseOptimizationScheduleOptions).map((([e,a])=>({label:a,value:e})));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Ae.A,{label:e,description:a,afterTitle:(0,l.createElement)(v.A,{variant:"outline",size:"sm",onClick:async()=>{s(!0),u(!0);const e={action:t},a=await M.R.databaseOptimization(e);a.success?(K.oR.success(a.message),s(!1),u(!1)):K.oR.error(a.message)},disabled:n,loader:m,icon:Ce.A},m?(0,y.__)("Running","wp-cloudflare-page-cache")+"...":r)},(0,l.createElement)("div",{className:"flex items-center space-x-2"},(0,l.createElement)("label",{htmlFor:t,className:"text-sm text-foreground"},(0,y.__)("Schedule:","wp-cloudflare-page-cache")),(0,l.createElement)(x.A,{id:t,value:i[t]?.toString()||"never",onChange:e=>{d(t,e)},disabled:n,options:p,className:"min-w-[100px]"}))))},Re=(0,L.lazy)((()=>Promise.all([t.e(452),t.e(674),t.e(21),t.e(154)]).then(t.bind(t,2154)))),Le=({className:e=""})=>{const{activeMenuItem:a}=(0,c.C)(),{isToggleOn:t}=(0,o.C)();return(0,l.createElement)("div",{className:(0,p.cn)("flex flex-col w-full",e,`content-wrap-${a.toLowerCase()}`)},a===s.kl.GENERAL&&(0,l.createElement)(w,null),a===s.kl.CLOUDFLARE&&(0,l.createElement)(F,null,(0,l.createElement)($,null)),a===s.kl.ASSETS&&(0,l.createElement)(Y,null),a===s.kl.MEDIA&&(0,l.createElement)(ce,null),a===s.kl.COMPATIBILITIES&&(0,l.createElement)(Ne,null),a===s.kl.DATABASE_OPTIMIZATION&&(0,l.createElement)(Se,null),t("show_advanced")&&(0,l.createElement)(L.Suspense,{fallback:(0,l.createElement)(g.A,null)},a===s.kl.ADVANCED&&(0,l.createElement)(Re,null)))};(0,l.createElement)("button",{className:""},(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-database w-4 h-4 mr-2"},(0,l.createElement)("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),(0,l.createElement)("path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}),(0,l.createElement)("path",{d:"M3 12A9 3 0 0 0 21 12"})),(0,l.createElement)("div",{className:"flex flex-col items-start"},(0,l.createElement)("span",{className:"leading-tight"},"General"),(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("span",{className:"text-xs text-gray-500 leading-tight "},"Core Configuration"))));const Pe=()=>{const{navItems:e,activeMenuItem:a,setActiveMenuItem:t}=i();return(0,l.createElement)("div",{className:"hidden xl:block bg-background border-b"},(0,l.createElement)(d.A,null,(0,l.createElement)("nav",{className:"flex -mb-px justify-start list-none"},e.map((({icon:e,label:r,id:n,description:c})=>(0,l.createElement)(f.A,{from:"top",key:n,className:"duration-300"},(0,l.createElement)("a",{href:`#${n}`,className:(0,p.cn)("flex items-start px-4 py-3 text-sm font-medium border-b-2 transition-colors relative",{"border-orange-500 text-orange-600 bg-orange-50 dark:bg-orange-950/20 dark:text-orange-400":a===n,"border-transparent text-muted-foreground hover:text-foreground hover:border-border":a!==n}),onClick:()=>t(n)},(0,l.createElement)(e,{className:"size-4 mr-2 mt-0.5"}),(0,l.createElement)("div",{className:"flex flex-col items-start"},(0,l.createElement)("span",{className:"leading-tight"},r),(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("span",{className:"text-xs text-muted-foreground leading-tight"},c))))))))))};var Ie=t(2784),Te=t(8697);const Me=({className:e=""})=>{const{sidebarOpen:a,toggleSidebar:t}=(0,c.C)(),{navItems:r,activeMenuItem:n,setActiveMenuItem:s}=i(),o=(0,L.useRef)(null);return(0,L.useEffect)((()=>{const e=e=>{a&&o.current&&!o.current.contains(e.target)&&t()},l=e=>{a&&"Escape"===e.key&&a&&t()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",l)}}),[a,o]),(0,l.createElement)("div",{className:e},(0,l.createElement)("div",{className:(0,p.cn)("fixed z-100 inset-0 bg-black/50 xl:hidden transition-opacity duration-300",{"opacity-100":a,"opacity-0 pointer-events-none":!a})}),(0,l.createElement)("aside",{id:"spc-dashboard-menu",ref:o,className:(0,p.cn)("fixed bottom-0 shadow bg-background z-100 w-[300px] border-r border-muted transition-transform duration-300 xl:translate-x-0 animate-in fade-in-from-left-5",!a&&"-translate-x-full")},(0,l.createElement)("div",{className:"flex h-full flex-col bg-muted/30"},(0,l.createElement)("div",{className:"px-4 py-2 border-b bg-background flex items-center"},(0,l.createElement)(Ie.A,null),(0,l.createElement)(v.A,{variant:"ghost",size:"icon",className:"ml-auto",onClick:t,icon:Te.A},(0,l.createElement)("span",{className:"sr-only"},(0,y.__)("Close menu","wp-cloudflare-page-cache")))),(0,l.createElement)(f.A,{from:"left"},(0,l.createElement)("nav",{className:"grid gap-1 p-4"},r.map((({icon:e,label:a,id:r,description:c})=>(0,l.createElement)(v.A,{key:r,variant:n===r?"default":"ghost",className:"w-full justify-start items-start h-auto gap-2",onClick:()=>{t(),s(r)}},(0,l.createElement)(e,{className:"mt-0.5"}),(0,l.createElement)("div",{className:"flex flex-col justify-start items-start"},a,c&&(0,l.createElement)("span",{className:(0,p.cn)("text-xs",{"text-primary-foreground/75":n===r,"text-muted-foreground":n!==r})},c))))))))))};var Oe=t(4997);const De=()=>{const{setRootPage:e,activeMenuItem:a,validPro:t}=(0,c.C)();return(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,null,(0,l.createElement)("h3",{className:"font-semibold text-base flex items-center"},(0,l.createElement)(Oe.A,{className:"size-4 mr-2 text-orange-600 dark:text-orange-500"}),(0,y.__)("Need Help?","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Wu,{className:"p-4 space-y-3"},a!==s.kl.CLOUDFLARE&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("button",{onClick:()=>e(s.qX.HELP),className:"w-full text-left block group"},(0,l.createElement)("h4",{className:"text-sm font-medium mb-1 group-hover:underline"},(0,y.__)("Help Center","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-xs text-muted-foreground"},(0,y.__)("Popular articles and step-by-step guides","wp-cloudflare-page-cache"))),(0,l.createElement)("a",{className:"block group",href:s.A.DOCS,target:"_blank",rel:"noreferrer"},(0,l.createElement)("h4",{className:"text-sm font-medium mb-1 group-hover:underline"},(0,y.__)("Documentation","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-xs text-muted-foreground"},(0,y.__)("Complete technical documentation","wp-cloudflare-page-cache"))),(0,l.createElement)("a",{href:t?s.A.DIRECT_SUPPORT:s.A.WPORG_FORUM,target:"_blank",className:"block group",rel:"noreferrer"},(0,l.createElement)("h4",{className:"text-sm font-medium mb-1 group-hover:underline"},(0,y.__)("Support","wp-cloudflare-page-cache")),t&&(0,l.createElement)("p",{className:"text-xs text-muted-foreground"},(0,y.__)("Get direct help from our team","wp-cloudflare-page-cache")),!t&&(0,l.createElement)("p",{className:"text-xs text-muted-foreground"},(0,y.__)("Official plugin support forum","wp-cloudflare-page-cache")))),a===s.kl.CLOUDFLARE&&(0,l.createElement)("div",{className:"space-y-6"},(0,l.createElement)("a",{href:"https://docs.themeisle.com/article/1481-how-to-setup-wp-cloudflare-super-page-cache",target:"_blank",rel:"noreferrer",className:"block group text-sm font-medium text-foreground"},(0,y.__)("Cloudflare Setup Guide","wp-cloudflare-page-cache")),(0,l.createElement)("a",{href:"https://docs.themeisle.com/article/2077-super-page-cache-cloudflare-permissions",target:"_blank",rel:"noreferrer",className:"block group text-sm font-medium text-foreground"},(0,y.__)("API token Creation","wp-cloudflare-page-cache")),(0,l.createElement)("a",{href:"https://docs.themeisle.com/article/1484-common-issues-for-wp-cloudflare-super-page-cache",target:"_blank",rel:"noreferrer",className:"block group text-sm font-medium text-foreground"},(0,y.__)("Troubleshooting connection issues","wp-cloudflare-page-cache"))),(0,l.createElement)(v.A,{onClick:()=>e(s.qX.HELP),variant:"outline",className:"w-full text-orange-600 hover:text-orange-600 border-orange-200 dark:border-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors"},"Open Help Center")))};var je=t(964);const Fe=(0,N.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var qe=t(9492);const Ge=()=>{const{lockAsync:e,asyncLocked:a}=(0,c.C)(),[t,r]=(0,L.useState)(!1),[n,i]=(0,L.useState)(!1),{settings:m,updateSettings:u}=(0,o.C)(),[g,f]=(0,L.useState)(!1),b=(0,L.useRef)(null),_=(0,L.useCallback)((()=>{if(b.current){const e=b.current.getBoundingClientRect();f(e.bottom<0||e.top>window.innerHeight)}}),[]);(0,L.useEffect)((()=>{let e;const a=()=>{clearTimeout(e),e=setTimeout(_,100)};return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a),clearTimeout(e)}}),[_]);const E=async()=>{window.confirm((0,y.__)("Are you sure you want reset all?","wp-cloudflare-super-page-cache"))&&(e(!0),r(!0),await M.R.resetSettings(),K.oR.success((0,y.__)("Settings have been reset","wp-cloudflare-page-cache"),{description:(0,y.__)("Please wait, the page will reload soon.","wp-cloudflare-page-cache")}),setTimeout((()=>{window.location.href=s.A.MAIN_PAGE}),3e3))},w=async()=>{e(!0),i(!0);const a=await M.R.updateSettings(m);if(i(!1),e(!1),a.success)return K.oR.success(a.message),void u(a.data.settings);K.oR.error(a.message,{description:(0,y.__)("Please try again later.","wp-cloudflare-page-cache")})};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(h.Ay,null,(0,l.createElement)(h.aR,null,(0,l.createElement)("h3",{className:"font-semibold text-base flex items-center"},(0,l.createElement)(je.A,{className:"size-4 mr-2 text-orange-600 dark:text-orange-500"}),(0,y.__)("Quick Actions","wp-cloudflare-page-cache"))),(0,l.createElement)(h.Wu,{className:"p-4 space-y-3"},(0,l.createElement)(v.A,{ref:b,variant:"orange",loader:n,disabled:a,onClick:w,className:"w-full",icon:Fe},n?(0,y.__)("Saving Settings","wp-cloudflare-page-cache")+"...":(0,y.__)("Update Settings","wp-cloudflare-page-cache")),(0,l.createElement)(v.A,{variant:"outline",disabled:a,loader:t,onClick:E,className:"w-full",icon:qe.A},t?(0,y.__)("Resetting","wp-cloudflare-page-cache")+"...":(0,y.__)("Reset All Settings","wp-cloudflare-page-cache"))),(0,l.createElement)(h.wL,{className:"text-xs text-muted-foreground text-center p-0"},(0,y.__)("Changes are saved immediately after clicking Update Settings","wp-cloudflare-page-cache"))),(0,l.createElement)("div",{className:(0,p.cn)("margin-dashboard-menu fixed max-w-full bottom-0 bg-background/90 backdrop-blur right-0 shadow-lg py-2 border-t transition-all duration-300 ease-out z-50",g?"translate-y-0 opacity-100":"translate-y-full opacity-0")},(0,l.createElement)(d.A,null,(0,l.createElement)("div",{className:"flex justify-end gap-2"},(0,l.createElement)(v.A,{size:"sm",variant:"outline",className:"hidden lg:flex",disabled:a,loader:t,onClick:E,icon:qe.A},t?(0,y.__)("Resetting","wp-cloudflare-page-cache")+"...":(0,y.__)("Reset All Settings","wp-cloudflare-page-cache")),(0,l.createElement)(v.A,{variant:"orange",size:"sm",loader:n,disabled:a,onClick:w,icon:Fe},n?(0,y.__)("Saving Settings","wp-cloudflare-page-cache")+"...":(0,y.__)("Update Settings","wp-cloudflare-page-cache"))))))};var Ue=t(6846);const He=()=>{const e=[{title:(0,y.__)("JavaScript Optimization","wp-cloudflare-page-cache"),description:(0,y.__)("Delay and defer JS files for better performance","wp-cloudflare-page-cache")},{title:(0,y.__)("Marketing Parameter Ignoring","wp-cloudflare-page-cache"),description:(0,y.__)("Improve cache hit rates significantly","wp-cloudflare-page-cache")},{title:(0,y.__)("Viewport-based Lazy Loading","wp-cloudflare-page-cache"),description:(0,y.__)("Smart lazy loading based on viewport detection","wp-cloudflare-page-cache")},{title:(0,y.__)("Priority Email Support","wp-cloudflare-page-cache"),description:(0,y.__)("Get dedicated help from our team","wp-cloudflare-page-cache")},{title:(0,y.__)("Support the plugin you love","wp-cloudflare-page-cache"),description:(0,y.__)("Help us continue developing amazing features","wp-cloudflare-page-cache")}];return(0,l.createElement)(h.Ay,{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-200 dark:border-orange-700/50"},(0,l.createElement)(h.Wu,{className:"p-5"},(0,l.createElement)("div",{className:"flex items-center mb-4"},(0,l.createElement)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center mr-3"},(0,l.createElement)(Ue.A,{className:"size-4 text-white"})),(0,l.createElement)("div",null,(0,l.createElement)("h3",{className:"text-lg font-semibold text-orange-900 dark:text-orange-200"},(0,y.__)("Super Page Cache Pro","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-xs text-orange-700 dark:text-orange-300"},(0,y.__)("Unlock advanced features","wp-cloudflare-page-cache")))),(0,l.createElement)("div",{className:"space-y-3 mb-5"},e.map(((e,a)=>(0,l.createElement)("div",{key:a,className:"flex items-start"},(0,l.createElement)("div",{className:"w-4 h-4 bg-orange-500 rounded-full flex items-center justify-center mr-3 mt-0.5"},(0,l.createElement)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"text-sm font-medium text-orange-900 dark:text-orange-200"},e.title),(0,l.createElement)("div",{className:"text-xs text-orange-700 dark:text-orange-300"},e.description)))))),(0,l.createElement)(v.A,{href:(0,p.n_)("settings-sidebar-upsell"),variant:"upsell",className:"w-full"},(0,y.__)("Upgrade to Pro","wp-cloudflare-page-cache")),(0,l.createElement)("p",{className:"text-xs text-orange-600 dark:text-orange-400 text-center mt-3"},(0,y.__)("30-day money-back guarantee","wp-cloudflare-page-cache"))))},{isPro:We}=window.SPCDash,Be=({className:e=""})=>(0,l.createElement)("div",{className:e},(0,l.createElement)(f.A,{from:"right",className:"delay-300"},(0,l.createElement)(Ge,null)),!We&&(0,l.createElement)(f.A,{from:"right",className:"delay-400"},(0,l.createElement)(He,null)),(0,l.createElement)(f.A,{from:"right",className:"delay-500"},(0,l.createElement)(De,null))),Ke=()=>{const{navItems:e,setActiveMenuItem:a}=i();return(0,L.useEffect)((()=>{if(window.location.hash&&e.length>0){const t=window.location.hash.replace("#",""),l=e.find((e=>e.id===t));l&&a(l.id)}}),[]),(0,l.createElement)(u.A,{className:"relative isolate"},(0,l.createElement)(Me,{className:"xl:hidden"}),(0,l.createElement)(m.Ay,null),(0,l.createElement)(Pe,null),(0,l.createElement)(d.A,{className:"py-8 pb-16"},(0,l.createElement)(r.A,null),(0,l.createElement)("div",{className:"grid lg:grid-cols-12 gap-6"},(0,l.createElement)(Le,{className:"lg:col-span-8 grid gap-6 lg:gap-10 items-start"}),(0,l.createElement)(n.A,{className:"lg:hidden"}),(0,l.createElement)(Be,{className:"lg:col-span-4 space-y-6"})),(0,l.createElement)("div",{className:"spc-drawer-portal"})))}}}]);