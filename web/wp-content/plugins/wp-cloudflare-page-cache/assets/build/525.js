"use strict";(globalThis.webpackChunkwp_cloudflare_page_cache=globalThis.webpackChunkwp_cloudflare_page_cache||[]).push([[525],{1525:(e,r,t)=>{t.r(r),t.d(r,{default:()=>k});var a=t(1609),n=t(5975),l=t(2748),s=t(418),o=t(4471),c=t(7946),i=t(7213);const d=(0,t(9407).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var g=t(7723);const u=({children:e=null,description:r="",title:t="",fillIcon:u=!1,className:m="",icon:b=null,type:p="neutral",onDismiss:h=null})=>{const x=(0,l.cn)("border rounded-lg p-3 relative",{"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-700/30":"orange"===p,"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700/30":"info"===p,"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-700/30":"warning"===p,"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700/30":"error"===p,"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700/30":"success"===p,"bg-muted border-foreground-muted":"neutral"===p},m),f=(0,l.cn)("size-5 mr-2 flex-shrink-0",{"text-orange-600 dark:text-orange-400":"orange"===p,"text-blue-600 dark:text-blue-400":"info"===p,"text-amber-600 dark:text-amber-400":"warning"===p,"text-red-600 dark:text-red-400":"error"===p,"text-green-600 dark:text-green-400":"success"===p,"text-gray-600 dark:text-gray-400":"neutral"===p}),v=(0,l.cn)("text-sm",{"text-orange-800 dark:text-orange-300":"orange"===p,"text-blue-800 dark:text-blue-300":"info"===p,"text-amber-800 dark:text-amber-500":"warning"===p,"text-red-800 dark:text-red-300":"error"===p,"text-green-800 dark:text-green-300":"success"===p,"text-gray-800 dark:text-gray-300":"neutral"===p}),w=(0,l.cn)("font-semibold text-sm",{"text-orange-900 dark:text-orange-200":"orange"===p,"text-blue-900 dark:text-blue-200":"info"===p,"text-amber-900 dark:text-amber-200":"warning"===p,"text-red-900 dark:text-red-200":"error"===p,"text-green-900 dark:text-green-200":"success"===p,"text-gray-900 dark:text-gray-200":"neutral"===p}),y={warning:s.A,success:o.A,error:c.A,info:i.A},k="disabled"===b?null:b||y[p]||null;return(0,a.createElement)("div",{className:x},!!h&&(0,a.createElement)(n.A,{variant:"ghost",size:"icon",onClick:h,className:(0,l.cn)("absolute top-1 right-1 rounded-lg hover:bg-black/10",v),icon:d},(0,a.createElement)("span",{className:"sr-only"},(0,g.__)("Dismiss notice","wp-cloudflare_page_cache"))),(0,a.createElement)("div",{className:"flex items-start"},k&&(0,a.createElement)(k,{className:f,fill:u?"currentColor":"none"}),(0,a.createElement)("div",{className:"grid gap-1"},t&&(0,a.createElement)("div",{className:w},t),(r||e)&&(0,a.createElement)("div",{className:"space-y-2"},r&&(0,a.createElement)("div",{className:v},"string"==typeof r?(0,a.createElement)("span",{className:"leading-relaxed",dangerouslySetInnerHTML:{__html:r}}):(0,a.createElement)("span",{className:"leading-relaxed"},r)),e&&(0,a.createElement)("div",{className:v},e)))))};var m=t(8018),b=t(6087),p=t(6858);const h=()=>{const{currentContext:e}=window.SPCAssetManager;return(0,a.createElement)("div",{className:"p-3 bg-blue-50 border-b flex items-center gap-5"},(0,a.createElement)("div",{className:"min-w-0 flex items-center gap-2"},(0,a.createElement)(i.A,{className:"size-4 text-blue-600 shrink-0 min-w-0"}),(0,a.createElement)("div",{className:"min-w-0 flex flex-col"},e.title&&(0,a.createElement)("span",{className:"font-medium text-sm text-blue-900 truncate"},e.title,":"),(0,a.createElement)("span",{className:"text-xs text-blue-700 truncate"},e.url.replace(/([?&])spc_assets=yes(&?)/,((e,r,t)=>"?"!==r||t?"?"===r&&"&"===t?"?":"&"===r?"":void 0:"")).replace(/[?&]$/,"")))),(0,a.createElement)("div",{className:"shrink-0 ml-auto flex items-center gap-1 text-sm text-blue-700"},(0,a.createElement)("span",null,(0,g.__)("Page Type","wp-cloudflare-page-cache"),":"),(0,a.createElement)("span",{className:"font-medium"},(()=>{switch(e.pageType){case"is_singular":
// translators: %s is the post type label
return(0,g.sprintf)((0,g.__)("Viewing a single %s","wp-cloudflare-page-cache"),e.postTypeLabel.toLowerCase());case"is_archive":return"is_tax"===e.subType?/* translators: %1$s is the taxonomy label, %2$s is the taxonomy slug */ /* translators: %1$s is the taxonomy label, %2$s is the taxonomy slug */(0,g.sprintf)((0,g.__)("Viewing %1$s archive: %2$s","wp-cloudflare-page-cache"),e.taxonomyLabel.toLowerCase(),e.taxonomySlug):"is_author"===e.subType?(0,g.__)("Viewing author archive","wp-cloudflare-page-cache"):"is_date"===e.subType?(0,g.sprintf)((0,g.__)("Viewing %s archive","wp-cloudflare-page-cache"),e.currentDate):"Viewing archive page";case"is_search":return(0,g.__)("Viewing search results","wp-cloudflare-page-cache");case"is_404":return(0,g.__)("Viewing 404 error page","wp-cloudflare-page-cache");case"is_front_page":return(0,g.__)("Viewing front page","wp-cloudflare-page-cache");case"is_home":return(0,g.__)("Viewing blog homepage","wp-cloudflare-page-cache");default:return(0,g.__)("Unknown page type","wp-cloudflare-page-cache")}})())))};var x=t(3558),f=t(3164),v=t(8445);const w=()=>{const{searchQuery:e,setSearchQuery:r}=(0,m.a)();return(0,a.createElement)("div",{className:"relative max-w-[500px]"},(0,a.createElement)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.createElement)("input",{type:"search",placeholder:"Search assets by name, source, path, or category...",className:"w-full pl-10 pr-4 py-2 text-sm border border-input rounded-lg bg-background h-10",value:e,onChange:e=>r(e.target.value)}))},y=()=>{const{activeTab:e,assets:r,switchTab:t}=(0,m.a)(),s=r.filter((e=>"js"===e.asset_type)).length,o=r.length-s,c=r.filter((r=>r.asset_type===e)),i=[{id:"css",label:(0,g.__)("CSS Files","wp-cloudflare-page-cache"),icon:x.A,length:o},{id:"js",label:(0,g.__)("JS Files","wp-cloudflare-page-cache"),icon:f.A,length:s}],d=c.reduce(((e,r)=>e+(e=>{const r=e.trim().toUpperCase().match(/^([\d.]+)\s*(KB|MB|B)$/);if(!r)return 0;const t=parseFloat(r[1]);switch(r[2]){case"MB":return 1024*t*1024;case"KB":return 1024*t;case"B":return t;default:return 0}})(r.size)),0),u=(0,l.z3)(d);return(0,a.createElement)("div",{className:"flex items-center gap-2"},(0,a.createElement)("div",{className:"flex"},i.map(((r,s)=>(0,a.createElement)(n.A,{variant:"ghost",size:"sm",key:r.id,onClick:()=>t(r.id),icon:r.icon,className:(0,l.cn)({"rounded-l-lg rounded-r-none border-r-0":0===s,"rounded-r-lg rounded-l-none border-l-0":s===i.length-1,"rounded-none border-l-0 border-r-0":s>0&&s<i.length-1,"bg-blue-500 text-white hover:bg-blue-600 hover:text-white":e===r.id,"hover:bg-transparent text-blue-600 hover:text-foreground/80":e!==r.id})},r.label+` (${r.length})`)))),(0,a.createElement)("div",{className:"grow"},(0,a.createElement)(w,null)),(0,a.createElement)("div",{className:"ml-auto text-sm text-gray-600"},(0,g.__)("Total Size: ","wp-cloudflare-page-cache"),(0,a.createElement)("span",{className:"font-medium"},u)))},k=()=>{const{closeModal:e,asyncLocked:r}=(0,m.a)();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-500 to-red-500 text-white border-b border-orange-500"},(0,a.createElement)("div",{className:"flex items-center gap-2"},(0,a.createElement)("div",{className:"size-8 bg-white/20 rounded-lg flex items-center justify-center"},(0,a.createElement)(p.A,{className:"size-5"})),(0,a.createElement)("div",null,(0,a.createElement)("h2",{className:"text-xl font-semibold"},(0,g.__)("Asset Manager","wp-cloudflare-page-cache")),(0,a.createElement)("p",{className:"text-sm text-orange-100"},(0,g.__)("Control CSS & JavaScript loading on specific contexts","wp-cloudflare-page-cache")))),(0,a.createElement)(n.A,{variant:"ghost",onClick:e,size:"icon",disabled:r,className:"text-white hover:bg-orange-500/50 hover:text-white border-none",icon:d},(0,a.createElement)("span",{className:"sr-only"},(0,g.__)("Close Modal","wp-cloudflare-page-cache")))),(0,a.createElement)(h,null),(0,a.createElement)("div",{className:"p-3 border-b border-gray-200 bg-muted grid gap-2"},(0,a.createElement)(y,null),(0,a.createElement)(u,{type:"info",icon:i.A},(0,b.createInterpolateElement)((0,g.__)("<strong>How it works:</strong> When you disable an asset for a context, it won't load on those pages. User filters can be combined with location filters for fine-grained control.","wp-cloudflare-page-cache"),{strong:(0,a.createElement)("strong",{className:"font-semibold"})}))))}},2732:(e,r,t)=>{t.d(r,{F:()=>s});var a=t(4164);const n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=a.$,s=(e,r)=>t=>{var a;if(null==(null==r?void 0:r.variants))return l(e,null==t?void 0:t.class,null==t?void 0:t.className);const{variants:s,defaultVariants:o}=r,c=Object.keys(s).map((e=>{const r=null==t?void 0:t[e],a=null==o?void 0:o[e];if(null===r)return null;const l=n(r)||n(a);return s[e][l]})),i=t&&Object.entries(t).reduce(((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e}),{}),d=null==r||null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce(((e,r)=>{let{class:t,className:a,...n}=r;return Object.entries(n).every((e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...o,...i}[r]):{...o,...i}[r]===t}))?[...e,t,a]:e}),[]);return l(e,c,d,null==t?void 0:t.class,null==t?void 0:t.className)}},3558:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(9407).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},5975:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(1609),n=t(2732),l=t(2748),s=t(8723);const o=(0,n.F)("border inline-flex items-center justify-center gap-2 rounded font-medium transition-all cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0",{variants:{variant:{default:"border-primary bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"border-destructive bg-destructive text-white shadow-sm hover:bg-destructive/90",outline:"border-current/25 text-foreground/80 hover:bg-accent hover:text-accent-foreground",ghost:"border-transparent hover:bg-accent text-secondary-foreground hover:text-accent-foreground",link:"border-transparent text-primary underline-offset-4 hover:underline",cta:"border-transparent bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg hover:shadow-xl shadow-orange-200 dark:shadow-orange-900 dark:hover:shadow-orange-800 bg-size-[100%] hover:bg-size-[150%] duration-300 ease-in-out",orange:"border-orange-600 bg-orange-600 text-white hover:bg-orange-700",green:"border-green-600 bg-green-600 text-white shadow-sm hover:bg-green-700",blue:"border-blue-600 bg-blue-600 text-white hover:bg-blue-700",upsell:"bg-gradient-to-r from-orange-500 to-red-500 shadow-md hover:shadow-lg bg-size-[100%] hover:bg-size-[150%] text-white"},size:{default:"h-10 px-6 py-3 text-sm",sm:"h-8 px-4 py-2 text-sm",lg:"h-12 px-6 py-3 text-base font-semibold",xs:"h-auto px-3 py-1.5 text-xs gap-1",icon:"size-9 p-1.5"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((({className:e,variant:r,size:t,loader:n=!1,icon:c,href:i,target:d,children:g,onClick:u,...m},b)=>{const p=i?"a":"button",h=i?{href:i,target:d,rel:"noreferrer",...m}:{onClick:u,...m};return(0,a.createElement)(p,{ref:b,className:(0,l.cn)(o({variant:r,size:t,className:e})),...h},c&&!n&&(0,a.createElement)(c,null),n&&(0,a.createElement)(s.A,{className:"animate-spin"}),g)}));c.displayName="Button";const i=c},6858:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(9407).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},8445:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(9407).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8723:(e,r,t)=>{t.d(r,{A:()=>a});const a=(0,t(9407).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}}]);