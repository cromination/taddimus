"use strict";(globalThis.webpackChunkwp_cloudflare_page_cache=globalThis.webpackChunkwp_cloudflare_page_cache||[]).push([[719],{341:(e,a,t)=>{t.d(a,{BE:()=>u,Uz:()=>c,_s:()=>s,cp:()=>d,gk:()=>g,uT:()=>o,zj:()=>m});var r=t(1609),l=t(7248),n=t(2748);function s({...e}){return(0,r.createElement)(l._s.Root,{"data-slot":"drawer",...e})}function c({...e}){return(0,r.createElement)(l._s.Trigger,{"data-slot":"drawer-trigger",...e})}function o({...e}){return(0,r.createElement)(l._s.Portal,{"data-slot":"drawer-portal",...e})}function d({...e}){return(0,r.createElement)(l._s.Close,{"data-slot":"drawer-close",...e})}function i({className:e,...a}){return(0,r.createElement)(l._s.Overlay,{"data-slot":"drawer-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9999] bg-black/50",e),...a})}function m({className:e,children:a,...t}){return(0,r.createElement)(o,{"data-slot":"drawer-portal"},(0,r.createElement)(i,null),(0,r.createElement)(l._s.Content,{"data-slot":"drawer-content",className:(0,n.cn)("group/drawer-content bg-background fixed z-[10000] isolate flex flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...t},a))}function u({className:e,...a}){return(0,r.createElement)("div",{"data-slot":"drawer-header",className:(0,n.cn)("flex flex-col gap-1.5 p-3",e),...a})}function g({className:e,...a}){return(0,r.createElement)(l._s.Title,{"data-slot":"drawer-title",className:(0,n.cn)("text-foreground font-semibold",e),...a})}},1486:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(1609),l=t(2748);const n=({children:e,from:a="bottom",className:t})=>{const n=(0,l.cn)("starting:opacity-0 duration-300 transition-all","delay-100 ease-out",{left:"starting:-translate-x-2",right:"starting:translate-x-2",top:"starting:-translate-y-2",bottom:"starting:translate-y-2",fade:"starting:opacity-0"}[a],t);return(0,r.createElement)("div",{className:n},e)}},1747:(e,a,t)=>{t.d(a,{F:()=>s});var r=t(1609),l=t(4674),n=t(2748);function s({className:e,children:a,...t}){return(0,r.createElement)(l.bL,{"data-slot":"scroll-area",className:(0,n.cn)("relative",e),...t},(0,r.createElement)(l.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"},a),(0,r.createElement)(c,null),(0,r.createElement)(l.OK,null))}function c({className:e,orientation:a="vertical",...t}){return(0,r.createElement)(l.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,n.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",e),...t},(0,r.createElement)(l.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"}))}},2318:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(1609),l=t(3362),n=t(2732),s=t(2748);const c=(0,n.F)((0,s.cn)("inline-flex gap-1 items-center px-2 py-1 text-xs font-medium rounded-full","[&>svg]:size-3.5"),{variants:{variant:{default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",success:"bg-green-500 text-white dark:bg-green-500/20 dark:text-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",destructive:"bg-red-500 text-white dark:bg-red-500/20 dark:text-red-300"}},defaultVariants:{variant:"default"}}),o=function({className:e,variant:a,asChild:t=!1,...n}){const o=t?l.DX:"span";return(0,r.createElement)(o,{"data-slot":"badge",className:(0,s.cn)(c({variant:a}),e),...n})}},2784:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(1609),l=t(2748),n=t(7723),s=t(6087);const c=({hideText:e=!1,text:a="",className:t=""})=>{const[c,o]=(0,s.useState)(!1);return(0,r.createElement)("div",{className:(0,l.cn)("flex items-center gap-2",t)},(0,r.createElement)("img",{onLoad:()=>{o(!0)},src:window.SPCDash.logoURL,alt:(0,n.__)("Super Page Cache Logo","wp-cloudflare-page-cache"),className:(0,l.cn)("size-8 starting:opacity-0 transition-opacity duration-300",{hidden:!c})}),!c&&(0,r.createElement)("span",{className:"size-8 bg-foreground/10 rounded-md animate-pulse"}),!e&&(0,r.createElement)("h1",{className:"text-lg font-semibold"},a||(0,n.__)("Super Page Cache","wp-cloudflare-page-cache")))}},5975:(e,a,t)=>{t.d(a,{A:()=>d});var r=t(1609),l=t(2732),n=t(2748),s=t(8723);const c=(0,l.F)("border inline-flex items-center justify-center gap-2 rounded font-medium transition-all cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0",{variants:{variant:{default:"border-primary bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"border-destructive bg-destructive text-white shadow-sm hover:bg-destructive/90",outline:"border-current/25 text-foreground/80 hover:bg-accent hover:text-accent-foreground",ghost:"border-transparent hover:bg-accent text-secondary-foreground hover:text-accent-foreground",link:"border-transparent text-primary underline-offset-4 hover:underline",cta:"border-transparent bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg hover:shadow-xl shadow-orange-200 dark:shadow-orange-900 dark:hover:shadow-orange-800 bg-size-[100%] hover:bg-size-[150%] duration-300 ease-in-out",orange:"border-orange-600 bg-orange-600 text-white hover:bg-orange-700",green:"border-green-600 bg-green-600 text-white shadow-sm hover:bg-green-700",blue:"border-blue-600 bg-blue-600 text-white hover:bg-blue-700",upsell:"bg-gradient-to-r from-orange-500 to-red-500 shadow-md hover:shadow-lg bg-size-[100%] hover:bg-size-[150%] text-white"},size:{default:"h-10 px-6 py-3 text-sm",sm:"h-8 px-4 py-2 text-sm",lg:"h-12 px-6 py-3 text-base font-semibold",xs:"h-auto px-3 py-1.5 text-xs gap-1",icon:"size-9 p-1.5"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((({className:e,variant:a,size:t,loader:l=!1,icon:o,href:d,target:i,children:m,onClick:u,...g},p)=>{const f=d?"a":"button",h=d?{href:d,target:i,rel:"noreferrer",...g}:{onClick:u,...g};return(0,r.createElement)(f,{ref:p,className:(0,n.cn)(c({variant:a,size:t,className:e})),...h},o&&!l&&(0,r.createElement)(o,null),l&&(0,r.createElement)(s.A,{className:"animate-spin"}),m)}));o.displayName="Button";const d=o},6719:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ze});var r=t(1609),l=t(504),n=t(8323),s=t(4120),c=t(4585),o=t(4758),d=t(5975),i=t(5181),m=t(8068),u=t(6087),g=t(7723),p=t(9407);const f=(0,p.A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),h=(0,p.A)("brush-cleaning",[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 13.99a1 1 0 0 0 1-1V12a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v.99a1 1 0 0 0 1 1",key:"iw8jdu"}],["path",{d:"M5 14h14l1.973 6.767A1 1 0 0 1 20 22H4a1 1 0 0 1-.973-1.233z",key:"1soew8"}],["path",{d:"m8 22 1-4",key:"s3unb"}]]),E=(0,p.A)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),x=()=>{const[e,a]=(0,u.useState)(!0),[t,l]=(0,u.useState)(!1),[n,s]=(0,u.useState)([]),{logViewURL:c}=window.SPCDash,o=async()=>{l(!1),a(!0),s([]);const e=await m.R.getLogs();if(!e.success)return a(!1),void l(!0);s(e.data),a(!1)};return(0,u.useEffect)((()=>{o()}),[]),(0,r.createElement)(i.Ay,{className:"mb-6"},(0,r.createElement)(i.aR,{className:"flex items-center justify-between"},(0,r.createElement)("h3",{className:"font-semibold text-base"},(0,g.__)("Activity Log","wp-cloudflare-page-cache")),(0,r.createElement)("div",{className:"flex items-center gap-2"},(0,r.createElement)(d.A,{icon:f,loader:e,disabled:e,size:"icon",variant:"ghost",className:"size-8",onClick:()=>{o()}}),(0,r.createElement)(d.A,{variant:"link",size:"sm",href:c,target:"_blank",className:"text-xs text-muted-foreground p-0"},(0,g.__)("View All","wp-cloudflare-page-cache")))),(0,r.createElement)(i.Wu,{className:"p-0 divide-y divide-muted-foreground/10"},e&&Array.from({length:20}).map(((e,a)=>(0,r.createElement)("div",{key:a,className:"px-4 py-3 flex items-center text-sm animate-pulse"},(0,r.createElement)("div",{className:"size-1.5 rounded-full bg-muted-foreground/50 mr-3"}),(0,r.createElement)("div",{className:"flex-1 h-5 bg-muted-foreground/30 rounded w-2/3"}),(0,r.createElement)("div",{className:"h-3 w-14 bg-muted-foreground/30 rounded ml-4"})))),!e&&n.length>0&&n.map(((e,a)=>(0,r.createElement)("div",{key:a,className:"px-4 py-3 flex items-center text-sm"},(0,r.createElement)("div",{className:"size-1.5 rounded-full mr-3 bg-muted-foreground/50"}),(0,r.createElement)("div",{className:"flex-1 min-w-0"},(0,r.createElement)("span",{className:"text-foreground/80 break-all"},e.message)),(0,r.createElement)("span",{className:"text-xs text-muted-foreground ml-4"},(e=>{if(e<60)return`${e}s`;const a=Math.floor(e/60);if(a<60)return`${a}m`;const t=Math.floor(a/60);return t<24?`${t}h`:`${Math.floor(t/24)}d`})(e.seconds_ago)," ago")))),!e&&0===n.length&&!t&&(0,r.createElement)("div",{className:"px-4 py-10 flex flex-col gap-4 items-center justify-center text-sm"},(0,r.createElement)("span",{className:"p-3 rounded-full bg-muted-foreground/10"},(0,r.createElement)(h,{className:"size-12 text-muted-foreground",strokeWidth:1.5})),(0,r.createElement)("h4",{className:"text-muted-foreground font-semibold text-base"},(0,g.__)("No logs found","wp-cloudflare-page-cache")),(0,r.createElement)("p",{className:"text-muted-foreground text-sm"},(0,g.__)("The activity log will appear here once you start using the plugin.","wp-cloudflare-page-cache"))),!e&&t&&(0,r.createElement)("div",{className:"px-4 py-10 flex flex-col gap-4 items-center justify-center text-sm"},(0,r.createElement)("span",{className:"p-3 rounded-full bg-muted-foreground/10"},(0,r.createElement)(E,{className:"size-12 text-muted-foreground",strokeWidth:1.5})),(0,r.createElement)("h4",{className:"text-muted-foreground font-semibold text-base"},(0,g.__)("Error fetching logs","wp-cloudflare-page-cache")),(0,r.createElement)("p",{className:"text-muted-foreground text-sm"},(0,g.__)("An error occurred while fetching the activity log. Please try again later.","wp-cloudflare-page-cache")))))};var y=t(341),b=t(1747),v=t(2748),w=t(3160),N=t(827),k=t(9492),_=t(8697);const A=(0,p.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var C=t(5404),S=t(8931),z=t(418);const P=(0,p.A)("circle-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);var T=t(4721);const R=({url:e,timestamp:a})=>{const t=new Date(1e3*a),l=`${t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})} • ${t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}`;return(0,r.createElement)("div",{className:"px-4 py-2 hover:bg-muted transition-colors group"},(0,r.createElement)("div",{className:"flex items-center justify-between gap-4"},(0,r.createElement)("div",{className:"flex-1 min-w-0 text-sm"},(0,r.createElement)("div",{className:"flex mb-2"},(0,r.createElement)("a",{href:e,className:"font-mono text-foreground break-all hover:underline truncate",rel:"noreferrer"},e)),(0,r.createElement)("div",{className:"flex items-center gap-2 text-foreground/80"},(0,r.createElement)(A,{className:"size-4 text-muted-foreground flex-shrink-0"}),(0,r.createElement)("span",null,l))),(0,r.createElement)("div",{className:"flex items-center gap-1"},(0,r.createElement)(d.A,{variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(e),T.oR.success((0,g.__)("URL copied to clipboard","wp-cloudflare-page-cache"))},icon:C.A},(0,r.createElement)("span",{className:"sr-only"},(0,g.__)("Copy URL","wp-cloudflare-page-cache"))),(0,r.createElement)(d.A,{variant:"ghost",size:"icon",href:e,target:"_blank",icon:S.A},(0,r.createElement)("span",{className:"sr-only"},(0,g.__)("Open in new tab","wp-cloudflare-page-cache"))))))},D=()=>(0,r.createElement)(l.A,{className:"flex items-center justify-center flex-col"},(0,r.createElement)("div",{className:"p-8 text-center text-muted-foreground flex flex-col items-center gap-3"},(0,r.createElement)(z.A,{className:"size-8 text-foreground/30"}),(0,r.createElement)("h4",{className:"text-lg text-foreground/80"},window.SPCDash.i18n.genericError))),L=()=>(0,r.createElement)(l.A,{className:"py-0 divide-y divide-border w-full"},Array.from({length:6}).map(((e,a)=>(0,r.createElement)("div",{key:a,className:"px-4 py-2.5 animate-pulse w-full"},(0,r.createElement)("div",{className:"flex items-center justify-between gap-4"},(0,r.createElement)("div",{className:"flex-1 min-w-0 text-sm"},(0,r.createElement)("div",{className:"mb-2"},(0,r.createElement)("div",{className:"h-5 bg-muted-foreground/50 rounded w-3/4 max-w-md"})),(0,r.createElement)("div",{className:"flex items-center gap-2"},(0,r.createElement)("div",{className:"size-4 bg-muted-foreground/50 rounded flex-shrink-0"}),(0,r.createElement)("div",{className:"h-4 bg-muted-foreground/50 rounded w-32"}))),(0,r.createElement)("div",{className:"flex items-center gap-1"},(0,r.createElement)("div",{className:"size-9 bg-muted-foreground/50 rounded"}),(0,r.createElement)("div",{className:"size-9 bg-muted-foreground/50 rounded"}))))))),M=()=>(0,r.createElement)(l.A,{className:"flex items-center justify-center flex-col"},(0,r.createElement)("div",{className:"p-8 text-center text-muted-foreground flex flex-col items-center gap-3"},(0,r.createElement)(P,{className:"size-8 text-foreground/30"}),(0,r.createElement)("h4",{className:"text-lg text-foreground/80"},(0,g.__)("No pages were cached yet.","wp-cloudflare-page-cache")),(0,r.createElement)("p",{className:"text-sm text-muted-foreground"},(0,u.createInterpolateElement)((0,g.__)("Make sure that <strong>Disk Page Cache</strong> is enabled in the settings, or run the preloader to warm up cache.","wp-cloudflare-page-cache"),{strong:(0,r.createElement)("strong",null)})))),q=()=>{const{darkMode:e}=(0,o.C)(),{i18n:a}=window.SPCDash,[t,n]=(0,u.useState)(!0),[s,c]=(0,u.useState)([]),[i,p]=(0,u.useState)(null),f=()=>{n(!0),p(null),c([]),m.R.getCachedPages().then((e=>{e.success&&e.data?c(e.data):p(e.message)})).finally((()=>{n(!1)}))};return(0,u.useEffect)((()=>{f()}),[]),(0,r.createElement)(y._s,null,(0,r.createElement)(y.Uz,{className:"p-0 h-auto text-xs flex font-medium items-center gap-1 text-foreground/80 hover:text-foreground hover:underline"},(0,r.createElement)(w.A,{className:"size-4 text-muted-foreground"}),(0,g.__)("View","wp-cloudflare-page-cache")),(0,r.createElement)(y.uT,null,(0,r.createElement)(y.zj,{className:(0,v.cn)("overflow-hidden",{dark:e})},(0,r.createElement)(y.BE,{className:"border-b border-border bg-muted"},(0,r.createElement)(l.A,{className:"text-left flex items-center justify-between w-full"},(0,r.createElement)(y.gk,null,(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)("div",{className:"p-2 bg-orange-400/10 border border-orange-400/30 rounded-lg"},(0,r.createElement)(N.A,{className:"size-5 text-orange-600"})),(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-lg font-semibold text-foreground"},(0,g.__)("Cached Pages","wp-cloudflare-page-cache")),(0,r.createElement)("p",{className:"text-sm text-muted-foreground"},
// translators: %d is the number of pages in cache
// translators: %d is the number of pages in cache
(0,g.sprintf)((0,g.__)("%d pages in cache","wp-cloudflare-page-cache"),s.length))))),(0,r.createElement)("div",null,(0,r.createElement)(d.A,{onClick:f,variant:"ghost",size:"icon",icon:k.A,loader:t,disabled:t},(0,r.createElement)("span",{className:"sr-only"},(0,g.__)("Refresh","wp-cloudflare-page-cache"))),(0,r.createElement)(y.cp,null,(0,r.createElement)(d.A,{variant:"ghost",size:"icon",icon:_.A},(0,r.createElement)("span",{className:"sr-only"},a.close)))))),s.length>0&&!t&&(0,r.createElement)(b.F,{className:"overflow-auto max-w-full max-h-[80vh] py-2"},(0,r.createElement)(l.A,{className:"py-0 divide-y divide-border w-full"},s.map((e=>(0,r.createElement)(R,{key:e.url,url:e.url,timestamp:e.timestamp}))))),s.length<1&&!t&&!i&&(0,r.createElement)(M,null),i&&(0,r.createElement)(D,null),t&&(0,r.createElement)(L,null))))};var j=t(1486);const O={analyticsAvailable:!0,analyticsData:null,loadingAnalytics:!1},I=(e,a)=>{switch(a.type){case"SET_ANALYTICS_AVAILABLE":return{...e,analyticsAvailable:a.payload};case"SET_ANALYTICS_DATA":return{...e,analyticsData:a.payload};case"SET_LOADING_ANALYTICS":return{...e,loadingAnalytics:a.payload};default:return e}},G=(0,u.createContext)(void 0),V=({children:e})=>{const{cloudflareConnected:a}=(0,c.C)(),[t,l]=(0,u.useReducer)(I,O);return(0,u.useEffect)((()=>{a&&(l({type:"SET_LOADING_ANALYTICS",payload:!0}),m.R.getCloudflareAnalytics().then((e=>{e.success&&"number"==typeof e.data?.requests&&"number"==typeof e.data?.bytes&&"number"==typeof e.data?.cachedBytes&&l({type:"SET_ANALYTICS_DATA",payload:e.data})})).catch((()=>{l({type:"SET_ANALYTICS_AVAILABLE",payload:!1})})).finally((()=>{l({type:"SET_LOADING_ANALYTICS",payload:!1})})))}),[a,l]),(0,r.createElement)(G.Provider,{value:{state:t,dispatch:l}},e)},B=()=>{const e=(0,u.useContext)(G);if(void 0===e)throw new Error("useDashboardStore must be used within a DashboardProvider");const{state:a}=e;return{analyticsAvailable:a.analyticsAvailable,analyticsData:a.analyticsData,loadingAnalytics:a.loadingAnalytics}},H=(0,p.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var F=t(1004);const U=(0,p.A)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),X=(0,p.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),J=()=>(0,r.createElement)("div",{className:"bg-background rounded-lg border p-4"},(0,r.createElement)("div",{className:"flex items-center justify-between mb-3"},(0,r.createElement)("div",{className:"w-16 h-4 bg-muted-foreground/50 rounded animate-pulse"}),(0,r.createElement)("div",{className:"w-6 h-6 bg-muted-foreground/50 rounded animate-pulse"})),(0,r.createElement)("div",{className:"w-20 h-4 bg-muted-foreground/50 rounded animate-pulse"})),W=({id:e,title:a,value:t,icon:l,className:n="",loading:s=!1})=>{const{isToggleOn:o}=(0,c.C)(),d=l;return s?(0,r.createElement)(J,null):(0,r.createElement)(j.A,{from:"fade",className:n},(0,r.createElement)(i.Ay,null,(0,r.createElement)(i.Wu,null,(0,r.createElement)("div",{className:"flex items-center justify-between mb-2"},(0,r.createElement)("span",{className:"text-xs font-medium text-foreground/80 uppercase tracking-wide"},a),(0,r.createElement)(d,{className:"w-4 h-4 text-muted-foreground shrink-0"})),(0,r.createElement)("div",{className:"flex items-end justify-between"},(0,r.createElement)("span",{className:"text-xl font-bold text-foreground"},t),o("cf_purge_only_html")&&"cachedObjects"===e&&(0,r.createElement)(q,null)))))},Y=()=>{const{analyticsData:e,analyticsAvailable:a,loadingAnalytics:t}=B(),{size:l}=window.SPCDash.metrics["cache.size"],{ratio:n}=window.SPCDash.metrics["cache.hitmiss"],{ttfb_ms:s}=window.SPCDash.metrics["cache.ttfb"],{html_files:c}=window.SPCDash.metrics["cache.files"],o={title:(0,g.__)("Disk Cache Hit Rate","wp-cloudflare-page-cache"),value:"n/a"!==n?n+"%":"n/a",icon:H,className:"delay-100"};a&&e&&(o.title=(0,g.__)("Cloudflare Percent Cached","wp-cloudflare-page-cache"),o.value=e?.bytes>0?(e?.cachedBytes/e?.bytes*100).toFixed(2)+"%":"n/a");const d={hitRate:o,cachedObjects:{title:(0,g.__)("Cached Objects","wp-cloudflare-page-cache"),value:"n/a"!==c?c:"n/a",icon:F.A,className:"delay-200"},cacheSize:{title:(0,g.__)("Cache Size","wp-cloudflare-page-cache"),value:"n/a"!==l?(0,v.z3)(l):"n/a",icon:U,className:"delay-300"},ttfb:{title:(0,g.__)("Avg Response","wp-cloudflare-page-cache"),value:"n/a"!==s?s+"ms":"n/a",icon:X,className:"delay-400"}};return(0,r.createElement)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Object.entries(d).map((([e,a])=>(0,r.createElement)(W,{loading:t&&"hitRate"===e,key:e,id:e,title:a.title,value:a.value.toString(),icon:a.icon,className:a.className}))))},$=(0,p.A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),K=()=>{const{analyticsData:e,loadingAnalytics:a}=B();if(a)return(0,r.createElement)("div",{className:"flex gap-2 items-center"},(0,r.createElement)("span",{className:"w-12 md:w-30 h-4 bg-muted-foreground/20 rounded animate-pulse"}),(0,r.createElement)("span",null,"•"),(0,r.createElement)("span",{className:"w-12 md:w-30 h-4 bg-muted-foreground/20 rounded animate-pulse"}));if(!e)return null;const{requests:t,bytes:l}=e,n=(0,v.MY)(t/24/60/60);return(0,r.createElement)("div",{className:"gap-2 text-xs hidden sm:flex md:text-sm font-medium text-muted-foreground"},(0,r.createElement)("div",{className:"flex items-center gap-1"},(0,r.createElement)($,{className:"size-4 md:hidden"}),(0,r.createElement)("span",{className:"hidden md:block"},(0,g.__)("Requests/sec:","wp-cloudflare-page-cache")),(0,r.createElement)("span",{className:"text-orange-600 font-bold"},n)),(0,r.createElement)("span",null,"•"),(0,r.createElement)("div",{className:"flex items-center gap-1"},(0,r.createElement)(U,{className:"size-4 md:hidden"}),(0,r.createElement)("span",{className:"hidden md:block"},(0,g.__)("Total data served:","wp-cloudflare-page-cache")),(0,r.createElement)("span",{className:"text-green-600 font-bold"},(0,v.z3)(l))))};var Z=t(9391),Q=t(367),ee=t(8123);const ae=()=>{const{setRootPage:e}=(0,o.C)();return(0,r.createElement)(Z.A,{type:"warning",className:"mb-6",title:(0,g.__)("Pro Features Available - License Required","wp-cloudflare-page-cache"),description:(0,g.__)("You have Super Page Cache Pro installed but need to activate your license to unlock advanced features like JavaScript optimization, database caching, and marketing parameter ignoring.","wp - cloudflare - page - cache")},(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)(d.A,{onClick:()=>e(Q.qX.LICENSE),variant:"orange",size:"xs"},(0,r.createElement)(ee.A,{className:"size-3 mr-1"}),(0,g.__)("Enter License Key","wp-cloudflare-page-cache")),(0,r.createElement)(d.A,{href:Q.A.STORE,target:"_blank",variant:"link",size:"xs",className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 p-0"},(0,g.__)("Find my license key","wp-cloudflare-page-cache")),(0,r.createElement)(d.A,{href:(0,v.n_)("dashboard-license-notice"),target:"_blank",variant:"link",size:"xs",className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 p-0"},(0,g.__)("Purchase license","wp-cloudflare-page-cache")),(0,r.createElement)(d.A,{onClick:()=>e(Q.qX.HELP),variant:"link",size:"xs",className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 p-0"},(0,g.__)("Get Help","wp-cloudflare-page-cache"))))},te=(0,p.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),re=(0,p.A)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);var le=t(3422);const ne=r.forwardRef((({...e},a)=>(0,r.createElement)(le.bL,{ref:a,"data-slot":"dialog",...e})));ne.displayName="Dialog",r.forwardRef((({...e},a)=>(0,r.createElement)(le.l9,{ref:a,"data-slot":"dialog-trigger",...e}))).displayName="DialogTrigger";const se=r.forwardRef((({...e},a)=>(0,r.createElement)(le.ZL,{ref:a,"data-slot":"dialog-portal",...e})));se.displayName="DialogPortal";const ce=r.forwardRef((({...e},a)=>(0,r.createElement)(le.bm,{ref:a,"data-slot":"dialog-close",...e})));ce.displayName="DialogClose";const oe=r.forwardRef((({className:e,...a},t)=>(0,r.createElement)(le.hJ,{ref:t,"data-slot":"dialog-overlay",className:(0,v.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})));oe.displayName="DialogOverlay";const de=r.forwardRef((({className:e,children:a,showCloseButton:t=!0,...l},n)=>(0,r.createElement)(se,{"data-slot":"dialog-portal"},(0,r.createElement)(oe,null),(0,r.createElement)(le.UC,{ref:n,"data-slot":"dialog-content",className:(0,v.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...l},a,t&&(0,r.createElement)(le.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},(0,r.createElement)(_.A,null),(0,r.createElement)("span",{className:"sr-only"},"Close"))))));de.displayName="DialogContent";const ie=r.forwardRef((({className:e,...a},t)=>(0,r.createElement)("div",{ref:t,"data-slot":"dialog-header",className:(0,v.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})));ie.displayName="DialogHeader";const me=r.forwardRef((({className:e,...a},t)=>(0,r.createElement)("div",{ref:t,"data-slot":"dialog-footer",className:(0,v.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})));me.displayName="DialogFooter";const ue=r.forwardRef((({className:e,...a},t)=>(0,r.createElement)(le.hE,{ref:t,"data-slot":"dialog-title",className:(0,v.cn)("text-xl leading-none font-semibold !m-0",e),...a})));ue.displayName="DialogTitle";const ge=r.forwardRef((({className:e,...a},t)=>(0,r.createElement)(le.VY,{ref:t,"data-slot":"dialog-description",className:(0,v.cn)("text-muted-foreground !text-sm",e),...a})));ge.displayName="DialogDescription";const pe=(0,p.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var fe=t(7213),he=t(5773);const Ee=(0,p.A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),xe=({open:e,onClose:a,title:t="",description:l="",closeButton:n=null})=>{const{darkMode:s}=(0,o.C)(),c=(0,v.cn)("antialiased gap-0",{dark:s});return(0,r.createElement)(ne,{open:e,onOpenChange:a},(0,r.createElement)(de,{className:c},t&&(0,r.createElement)(ie,null,(0,r.createElement)(ue,null,t)),l&&(0,r.createElement)(ge,{dangerouslySetInnerHTML:{__html:l}}),n&&(0,r.createElement)(me,null,(0,r.createElement)(ce,{asChild:!0,onClick:a},n))))},ye=({onClose:e,description:a,success:t=!1})=>{const{i18n:l}=window.SPCDash;return(0,r.createElement)(xe,{open:!0,onClose:e,title:(0,r.createElement)("div",{className:"flex items-center justify-start gap-4 mb-5"},t&&(0,r.createElement)(he.A,{className:"size-7 p-1 bg-green-500/25 rounded-full flex items-center justify-center text-green-500"}),!t&&(0,r.createElement)(Ee,{className:"size-7 p-1 bg-destructive/25 rounded-full flex items-center justify-center text-destructive"}),(0,r.createElement)("span",{className:"text-base font-semibold"},t?l.success:l.error)),description:a,closeButton:(0,r.createElement)(d.A,{type:"button",variant:t?"orange":"destructive",className:"mt-5"},l.close)})},be=({onClose:e,data:a})=>{const{darkMode:t}=(0,o.C)(),{i18n:l}=window.SPCDash,n=(0,v.cn)("antialiased gap-0",{dark:t});if(!a?.success||!a?.data)return(0,r.createElement)(ye,{onClose:e,success:a.success,description:a?.message||l.genericError});const s=(0,u.useCallback)((()=>{const e=a.data,t=[{status:"success"===e.cloudflare?.status,message:e.cloudflare?.message},{status:"success"===e.disk_cache?.status,message:e.disk_cache?.message}];return(0,r.createElement)("ul",{className:"text-foreground space-y-2"},Object.entries(t).map((([e,{status:a,message:t}])=>{const l=a?pe:fe.A;return(0,r.createElement)("li",{key:e,className:"flex items-center gap-2 text-sm"},(0,r.createElement)(l,{className:(0,v.cn)("flex items-center justify-center p-1 w-7 h-7 rounded-full",{"bg-green-500/20 text-green-600":a,"bg-orange-500/20 text-orange-600":!a})}),(0,r.createElement)("span",{className:"font-medium"},t))})))}),[a.data]);return(0,r.createElement)(ne,{open:!0,onOpenChange:e},(0,r.createElement)(de,{className:n},(0,r.createElement)(ie,{className:"mb-5"},(0,r.createElement)(ue,null,(0,g.__)("Status","wp-cloudflare-page-cache"))),(0,r.createElement)(s,null),(0,r.createElement)(ge,{className:"sr-only"},(0,g.__)("Status","wp-cloudflare-page-cache")),(0,r.createElement)(me,{className:"mt-5"},(0,r.createElement)(ce,{asChild:!0,onClick:e},(0,r.createElement)(d.A,{type:"button",variant:"orange"},l.close)))))},ve=()=>{const{asyncLocked:e,lockAsync:a}=(0,o.C)(),[t,l]=(0,u.useState)(!1),[n,s]=(0,u.useState)(!1),[c,p]=(0,u.useState)(!1),[f,h]=(0,u.useState)(null),[E,x]=(0,u.useState)(null);return(0,r.createElement)(r.Fragment,null,!!f&&(0,r.createElement)(ye,{onClose:()=>h(null),description:f?.message,success:f?.success}),!!E&&(0,r.createElement)(be,{onClose:()=>x(null),data:E}),(0,r.createElement)(i.Ay,null,(0,r.createElement)(i.aR,null,(0,r.createElement)("h3",{className:"font-semibold text-base"},(0,g.__)("Actions","wp-cloudflare-page-cache"))),(0,r.createElement)(i.Wu,{className:"grid xl:grid-cols-2 lg:grid-cols-1 sm:grid-cols-2 grid-cols-1 gap-3"},(0,r.createElement)(d.A,{variant:"destructive",className:"xl:col-span-2 lg:col-span-1 sm:col-span-2",icon:te,disabled:e,loader:t,onClick:async()=>{a(!0),l(!0);const e=await m.R.purgeCacheAll();h(e),a(!1),l(!1)}},(0,g.__)("Purge Cache","wp-cloudflare-page-cache")),(0,r.createElement)(d.A,{variant:"outline",icon:re,disabled:e,loader:n,onClick:async()=>{a(!0),s(!0);const e=await m.R.testCache();x(e),a(!1),s(!1)}},(0,g.__)("Test Cache","wp-cloudflare-page-cache")),(0,r.createElement)(d.A,{variant:"outline",icon:F.A,disabled:e,loader:c,onClick:async()=>{a(!0),p(!0);const e=await m.R.startPreloader();a(!1),p(!1),e.success?T.oR.success(e.message):T.oR.error(e.message)}},c?(0,g.__)("Preloading","wp-cloudflare-page-cache")+"...":(0,g.__)("Preload","wp-cloudflare-page-cache")))))},we=()=>{const{hasOverdueJobs:e}=window.SPCDash,{settings:a,cloudflareConnected:t}=(0,c.C)(),l=[{label:(0,g.__)("Cache Engine","wp-cloudflare-page-cache"),value:a.cf_fallback_cache?(0,g.__)("Enabled","wp-cloudflare-page-cache"):(0,g.__)("Disabled","wp-cloudflare-page-cache"),color:a.cf_fallback_cache?"text-green-600 dark:text-green-400":"text-destructive"},{label:(0,g.__)("Background Tasks","wp-cloudflare-page-cache"),value:e?(0,g.__)("Overdue","wp-cloudflare-page-cache"):(0,g.__)("Running","wp-cloudflare-page-cache"),color:e?"text-destructive":"text-green-600 dark:text-green-400"},{label:(0,g.__)("Cloudflare Caching","wp-cloudflare-page-cache"),value:t?(0,g.__)("Active","wp-cloudflare-page-cache"):(0,g.__)("Inactive","wp-cloudflare-page-cache"),color:t?"text-green-600 dark:text-green-400":"text-destructive"}];return(0,r.createElement)(i.Ay,null,(0,r.createElement)(i.aR,null,(0,r.createElement)("h3",{className:"font-semibold text-base"},(0,g.__)("System","wp-cloudflare-page-cache"))),(0,r.createElement)(i.Wu,{className:"space-y-3"},l.map((e=>(0,r.createElement)("div",{key:e.label,className:"flex items-center justify-between text-sm"},(0,r.createElement)("span",{className:"text-foreground/80"},e.label),(0,r.createElement)("span",{className:(0,v.cn)("font-medium",e.color)},e.value))))))};var Ne=t(6846),ke=t(4471);const _e=()=>{const e=[(0,g.__)("Defer & Delay Javascript","wp-cloudflare-page-cache"),(0,g.__)("Improve cache hit rates","wp-cloudflare-page-cache"),(0,g.__)("Priority Support","wp-cloudflare-page-cache"),(0,g.__)("Support a plugin you love","wp-cloudflare-page-cache")];return(0,r.createElement)(i.Ay,{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-200 dark:border-orange-700/50"},(0,r.createElement)(i.Wu,{className:"p-4"},(0,r.createElement)("div",{className:"flex items-center justify-between mb-3"},(0,r.createElement)("div",{className:"flex items-center"},(0,r.createElement)("div",{className:"size-5 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center mr-2"},(0,r.createElement)(Ne.A,{className:"size-3 text-white"})),(0,r.createElement)("span",{className:"text-sm font-semibold text-orange-900 dark:text-orange-200"},(0,g.__)("Super Page Cache Pro","wp-cloudflare-page-cache")))),(0,r.createElement)("p",{className:"text-xs text-orange-700 dark:text-orange-300 mb-3"},(0,g.__)("Advanced features for maximum performance","wp-cloudflare-page-cache")),(0,r.createElement)("div",{className:"space-y-1.5 mb-4"},e.map(((e,a)=>(0,r.createElement)("div",{key:a,className:"flex items-center text-xs text-orange-700 dark:text-orange-300"},(0,r.createElement)(ke.A,{className:"size-3 text-orange-500 mr-2"}),e)))),(0,r.createElement)(d.A,{variant:"upsell",href:(0,v.n_)("dashboard-sidebar-upsell"),className:"w-full"},(0,g.__)("Upgrade to Pro","wp-cloudflare-page-cache"))))};var Ae=t(8266),Ce=t(964);const Se=()=>{const{conflicts:e}=window.SPCDash,[a,t]=(0,u.useState)(!1),[l,n]=(0,u.useState)(!0),s=(0,u.createInterpolateElement)((0,g.sprintf)(/* translators: %s: Plugin name/names */ /* translators: %s: Plugin name/names */
(0,g.__)("We also detected %s active on your site. Running multiple caching plugins simultaneously may cause conflicts and reduce performance.","wp-cloudflare_page_cache"),e.map((e=>`<strong>${e}</strong>`)).join(", ")),{strong:(0,r.createElement)("strong",null)});return a?null:(0,r.createElement)(Z.A,{type:"warning",className:(0,v.cn)("mb-6 transition-all duration-300",{"opacity-0 overflow-hidden":!l,"opacity-100":l}),title:(0,g.__)("Multiple Caching Plugins Detected","wp-cloudflare_page_cache"),onDismiss:async()=>{const e=await m.R.dismissNotice("conflicts");if(e.success)return n(!1),window.SPCDash.conflicts=[],void setTimeout((()=>{t(!0)}),300);T.oR.error(e.message)}},(0,r.createElement)("span",{className:"block"},s),(0,r.createElement)("span",{className:"block mt-1"},(0,g.__)("For the best results, we recommend temporarily disabling other caching plugins to test Super Page Cache performance, or choose one primary caching solution.","wp-cloudflare_page_cache")),(0,r.createElement)(d.A,{href:Q.A.PLUGINS_PAGE,target:"_blank",size:"xs",variant:"orange",className:"mt-2 bg-yellow-600 hover:bg-yellow-700 border-yellow-600"},(0,r.createElement)(Ce.A,{className:"size-3 mr-1"}),(0,g.__)("Manage Plugins","wp-cloudflare-page-cache")))},ze=()=>{const{isPro:e}=window.SPCDash,{unlicensedPro:a}=(0,o.C)(),{cloudflareConnected:t}=(0,c.C)();return(0,r.createElement)(V,null,(0,r.createElement)(s.A,null,(0,r.createElement)(n.Ay,{backButton:!1},t&&(0,r.createElement)(n.Bm,null,(0,r.createElement)(K,null))),(0,r.createElement)(l.A,{className:"py-8"},(0,r.createElement)(Ae.A,null),a&&(0,r.createElement)(j.A,{from:"top"},(0,r.createElement)(ae,null)),window.SPCDash.conflicts.length>0&&(0,r.createElement)(j.A,{from:"top",className:"delay-100"},(0,r.createElement)(Se,null)),(0,r.createElement)(Y,null),(0,r.createElement)("div",{className:"grid gap-6 lg:hidden mb-6"},(0,r.createElement)(j.A,{from:"right",className:"delay-300"},(0,r.createElement)(ve,null)),(0,r.createElement)(j.A,{from:"right",className:"delay-400"},(0,r.createElement)(we,null)),!e&&(0,r.createElement)(j.A,{from:"right",className:"delay-500"},(0,r.createElement)(_e,null))),(0,r.createElement)("div",{className:"grid lg:grid-cols-12 gap-6"},(0,r.createElement)("div",{className:"lg:col-span-8"},(0,r.createElement)(j.A,{from:"bottom",className:"delay-300"},(0,r.createElement)(x,null))),(0,r.createElement)("div",{className:"hidden lg:block lg:col-span-4 space-y-6"},(0,r.createElement)(j.A,{from:"right",className:"delay-300"},(0,r.createElement)(ve,null)),(0,r.createElement)(j.A,{from:"right",className:"delay-400"},(0,r.createElement)(we,null)),!e&&(0,r.createElement)(j.A,{from:"right",className:"delay-500"},(0,r.createElement)(_e,null)))))))}},7102:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(1609),l=t(2748);const n=({orientation:e="horizontal",className:a})=>(0,r.createElement)("div",{className:(0,l.cn)("bg-border shrink-0","horizontal"===e?"h-px w-full":"w-px h-full min-h-[1rem]",a)})},8068:(e,a,t)=>{t.d(a,{R:()=>r});const r=new class{constructor(){this.baseUrl=window.SPCDash.api,this.nonce=window.SPCDash.nonce}async makeRequest(e,a={}){const t=this.baseUrl+e,r={"Content-Type":"application/json","X-WP-Nonce":this.nonce,...a.headers};try{const e=await fetch(t,{...a,headers:r}),l=await e.json();return e.ok&&l.success?l:{success:!1,message:l.message||window.SPCDash.i18n.genericError}}catch(e){return{success:!1,message:e instanceof Error?e.message:window.SPCDash.i18n.genericError}}}async purgeCacheAll(){return this.makeRequest("/cache/purge",{method:"POST"})}async purgeCacheVarnish(){return this.makeRequest("/cache/purge-varnish",{method:"GET"})}async testCache(){return this.makeRequest("/cache/test",{method:"GET"})}async toggleLicenseKey(e={}){return this.makeRequest("/toggle-license",{method:"POST",body:JSON.stringify(e)})}async resetSettings(){return this.makeRequest("/settings/reset",{method:"GET"})}async enablePageCache(){return this.makeRequest("/settings/wizard",{method:"GET"})}async clearLogs(){return this.makeRequest("/logs/clear",{method:"GET"})}async getLogs(){return this.makeRequest("/logs/get",{method:"GET"})}async startPreloader(){return this.makeRequest("/preloader/start",{method:"GET"})}async importConfig(e){return this.makeRequest("/config/import",{method:"POST",body:JSON.stringify({settings:e})})}async updateSettings(e){return this.makeRequest("/settings/update",{method:"POST",body:JSON.stringify({settings:e})})}async cloudflareConnect(e){return this.makeRequest("/cloudflare/connect",{method:"POST",body:JSON.stringify(e)})}async cloudflareDisconnect(){return this.makeRequest("/cloudflare/disconnect",{method:"GET"})}async cloudflareConfirmZoneId(e){return this.makeRequest("/cloudflare/confirm-zone-id",{method:"POST",body:JSON.stringify(e)})}async verifyTokenPermissions(){return this.makeRequest("/cloudflare/token-permissions",{method:"GET"})}async databaseOptimization(e){return this.makeRequest("/database/optimize",{method:"DELETE",body:JSON.stringify(e)})}async getCloudflareAnalytics(){return this.makeRequest("/cloudflare/analytics",{method:"GET"})}async repairCloudflareRule(){return this.makeRequest("/cloudflare/repair-rule",{method:"GET"})}async dismissNotice(e){return this.makeRequest("/notice/dismiss",{method:"POST",body:JSON.stringify({key:e})})}async getCachedPages(){return this.makeRequest("/cached-pages",{method:"GET"})}}},8123:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(9407).A)("key-square",[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]])},8266:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(1609),l=t(5181),n=t(2748),s=t(1486);const c=({className:e})=>{const a=(0,n.Vv)();return a?(0,r.createElement)(s.A,{from:"fade",className:(0,n.cn)("delay-300 mb-6",e)},(0,r.createElement)(l.Ay,{className:"shadow-xl shadow-orange-500/10 border-orange-500/30"},(0,r.createElement)(l.Wu,null,(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:a}})))):null}},8323:(e,a,t)=>{t.d(a,{Bm:()=>N,Yw:()=>k,Ay:()=>_});var r=t(1609),l=t(5975),n=t(4758),s=t(7723),c=t(4539),o=t(8676);const d=()=>{const{toggleDarkMode:e,darkMode:a}=(0,n.C)();return(0,r.createElement)(l.A,{variant:"ghost",size:"icon",icon:a?c.A:o.A,onClick:e,className:"text-muted-foreground",title:(0,s.__)("Toggle dark mode","wp-cloudflare-page-cache")})};var i=t(2784),m=t(7102),u=t(1486),g=t(2318),p=t(504),f=t(367),h=t(6087),E=t(232),x=t(9230),y=t(418),b=t(8147),v=t(4997),w=t(964);const N=({children:e})=>(0,r.createElement)(r.Fragment,null,e),k=({children:e})=>(0,r.createElement)(r.Fragment,null,e),_=({backButton:e=!0,title:a=null,children:t})=>{const{isPro:c,version:o}=window.SPCDash,{setRootPage:_,validLicense:A,rootPage:C}=(0,n.C)(),{toggleSidebar:S,showWizard:z}=(0,n.C)(),P=()=>{_(f.qX.DASHBOARD)};let T=null,R=null;return h.Children.forEach(t,(e=>{if((0,h.isValidElement)(e)){const a=e;a.type===N?T=a.props.children:a.type===k&&(R=a.props.children)}})),(0,r.createElement)("div",{className:"bg-background border-b"},(0,r.createElement)(p.A,null,(0,r.createElement)("div",{className:"flex items-center justify-between h-14"},(0,r.createElement)("div",{className:"flex items-center space-x-3"},e&&(0,r.createElement)(u.A,{from:"right",className:"hidden xl:block"},(0,r.createElement)(l.A,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:P,icon:E.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("Back to dashboard","wp-cloudflare-page-cache")))),C===f.qX.SETTINGS&&(0,r.createElement)(l.A,{variant:"ghost",size:"icon",className:"xl:hidden",onClick:S,icon:x.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("Toggle settings menu","wp-cloudflare-page-cache"))),(0,r.createElement)("div",{className:"flex items-center space-x-2"},(0,r.createElement)(i.A,{text:a,className:"hidden xl:flex"}),(0,r.createElement)(i.A,{hideText:!0,className:"xl:hidden"}),(0,r.createElement)("span",{className:"text-xs text-gray-400 font-mono"},"v",o),!c&&(0,r.createElement)(g.A,null,(0,s.__)("Free","wp-cloudflare-page-cache")),c&&(0,r.createElement)(g.A,{variant:A?"success":"warning"},!A&&(0,r.createElement)(y.A,null),(0,s.__)("Pro","wp-cloudflare-page-cache")+(A?"":` (${(0,s.__)("Unlicensed","wp-cloudflare-page-cache")})`)),T&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m.A,{orientation:"vertical"}),T))),(0,r.createElement)("div",{className:"flex items-center gap-2"},R&&(0,r.createElement)(r.Fragment,null,R,(0,r.createElement)(m.A,{orientation:"vertical"})),e&&(0,r.createElement)(u.A,{from:"right",className:"xl:hidden"},(0,r.createElement)(l.A,{variant:"ghost",size:"icon",className:"text-muted-foreground",onClick:P,icon:E.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("Back to dashboard","wp-cloudflare-page-cache")))),c&&C!==f.qX.LICENSE&&!z&&(0,r.createElement)(l.A,{title:(0,s.__)("License","wp-cloudflare-page-cache"),onClick:()=>_(f.qX.LICENSE),className:"text-muted-foreground",variant:"ghost",size:"icon",icon:b.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("License","wp-cloudflare-page-cache"))),C!==f.qX.HELP&&(0,r.createElement)(l.A,{title:(0,s.__)("Help Center","wp-cloudflare-page-cache"),onClick:()=>_(f.qX.HELP),className:"text-muted-foreground",variant:"ghost",size:"icon",icon:v.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("Help Center","wp-cloudflare-page-cache"))),C!==f.qX.SETTINGS&&!z&&(0,r.createElement)(l.A,{title:(0,s.__)("Settings","wp-cloudflare-page-cache"),className:"text-muted-foreground",variant:"ghost",size:"icon",onClick:()=>_(f.qX.SETTINGS),icon:w.A},(0,r.createElement)("span",{className:"sr-only"},(0,s.__)("Settings","wp-cloudflare-page-cache"))),(0,r.createElement)(d,null)))))}},9391:(e,a,t)=>{t.d(a,{A:()=>u});var r=t(1609),l=t(2748),n=t(418),s=t(4471),c=t(7946),o=t(7213),d=t(8697),i=t(5975),m=t(7723);const u=({children:e=null,description:a="",title:t="",fillIcon:u=!1,className:g="",icon:p=null,type:f="neutral",onDismiss:h=null})=>{const E=(0,l.cn)("border rounded-lg p-3 relative",{"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-700/30":"orange"===f,"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-700/30":"info"===f,"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-700/30":"warning"===f,"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700/30":"error"===f,"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700/30":"success"===f,"bg-muted border-foreground-muted":"neutral"===f},g),x=(0,l.cn)("size-5 mr-2 flex-shrink-0",{"text-orange-600 dark:text-orange-400":"orange"===f,"text-blue-600 dark:text-blue-400":"info"===f,"text-amber-600 dark:text-amber-400":"warning"===f,"text-red-600 dark:text-red-400":"error"===f,"text-green-600 dark:text-green-400":"success"===f,"text-gray-600 dark:text-gray-400":"neutral"===f}),y=(0,l.cn)("text-sm",{"text-orange-800 dark:text-orange-300":"orange"===f,"text-blue-800 dark:text-blue-300":"info"===f,"text-amber-800 dark:text-amber-500":"warning"===f,"text-red-800 dark:text-red-300":"error"===f,"text-green-800 dark:text-green-300":"success"===f,"text-gray-800 dark:text-gray-300":"neutral"===f}),b=(0,l.cn)("font-semibold text-sm",{"text-orange-900 dark:text-orange-200":"orange"===f,"text-blue-900 dark:text-blue-200":"info"===f,"text-amber-900 dark:text-amber-200":"warning"===f,"text-red-900 dark:text-red-200":"error"===f,"text-green-900 dark:text-green-200":"success"===f,"text-gray-900 dark:text-gray-200":"neutral"===f}),v={warning:n.A,success:s.A,error:c.A,info:o.A},w="disabled"===p?null:p||v[f]||null;return(0,r.createElement)("div",{className:E},!!h&&(0,r.createElement)(i.A,{variant:"ghost",size:"icon",onClick:h,className:(0,l.cn)("absolute top-1 right-1 rounded-lg hover:bg-black/10",y),icon:d.A},(0,r.createElement)("span",{className:"sr-only"},(0,m.__)("Dismiss notice","wp-cloudflare_page_cache"))),(0,r.createElement)("div",{className:"flex items-start"},w&&(0,r.createElement)(w,{className:x,fill:u?"currentColor":"none"}),(0,r.createElement)("div",{className:"grid gap-1"},t&&(0,r.createElement)("div",{className:b},t),(a||e)&&(0,r.createElement)("div",{className:"space-y-2"},a&&(0,r.createElement)("div",{className:y},"string"==typeof a?(0,r.createElement)("span",{className:"leading-relaxed",dangerouslySetInnerHTML:{__html:a}}):(0,r.createElement)("span",{className:"leading-relaxed"},a)),e&&(0,r.createElement)("div",{className:y},e)))))}}}]);