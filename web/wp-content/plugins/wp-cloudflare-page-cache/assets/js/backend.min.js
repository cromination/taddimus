"use strict";let swcfpc_toolbar_cache_status_tries=0,swcfpc_toolbar_cache_status_interval=null;const swcfpc_ajax_url=window.swcfpcOptions.ajaxUrl;let swcfpc_cache_enabled=parseInt(window.swcfpcOptions.cacheEnabled);function swcfpc_handle_conditional_settings(e){parseInt(e.value)>0?(document.querySelectorAll(`.${e.dataset.mainoption}`).forEach(e=>{e.classList.remove("swcfpc_hide")}),document.querySelectorAll(`.${e.dataset.mainoption}_not`).forEach(e=>{e.classList.add("swcfpc_hide")})):(document.querySelectorAll(`.${e.dataset.mainoption}`).forEach(e=>{e.classList.add("swcfpc_hide")}),document.querySelectorAll(`.${e.dataset.mainoption}_not`).forEach(e=>{e.classList.contains("swcfpc_hide")&&e.classList.remove("swcfpc_hide")}))}function swcfpc_lock_screen(){if(!document.querySelector(".swcfpc_please_wait")){let e=document.querySelectorAll("input[type=submit]"),c=document.querySelectorAll("input[type=submit]"),s=document.querySelectorAll("a");e.forEach(e=>{e.classList.add("swcfpc_hide")}),c.forEach(e=>{e.classList.add("swcfpc_hide")}),s.forEach(e=>{e.classList.add("swcfpc_hide")});let t=document.createElement("div");t.classList.add("swcfpc_please_wait"),document.body.prepend(t)}}function swcfpc_unlock_screen(){let e=document.querySelectorAll("input[type=submit]"),c=document.querySelectorAll("input[type=submit]"),s=document.querySelectorAll("a");e.forEach(e=>{e.classList.remove("swcfpc_hide")}),c.forEach(e=>{e.classList.remove("swcfpc_hide")}),s.forEach(e=>{e.classList.remove("swcfpc_hide")}),document.querySelector(".swcfpc_please_wait").remove()}function swcfpc_redirect_to_page(e){window.location=e}function swcfpc_refresh_page(){window.location.reload()}function swcfpc_display_ok_dialog(e,c,s,t,r,a,l,n,o){s=void 0===s||null==s?350:parseInt(s),t=void 0===t||null==t?300:parseInt(t),a=void 0===a?null:a,l=void 0===l?"Close":l,o=void 0===o?null:o;let i="success";"warning"===(r=void 0===r?null:r)?i="warning":"error"===r?i="error":"info"===r?i="info":"question"===r&&(i="question"),null==(n=void 0===n?null:n)?Swal.fire({title:null!==a?a:"",html:c,icon:i,confirmButtonText:l}):Swal.fire({title:null!==a?a:"",html:c,icon:i,confirmButtonText:l,willClose(){null!=o?n(o):n()}}).then(e=>{e.isConfirmed&&(null!=o?n(o):n())})}async function swcfpc_purge_varnish_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_varnish_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_purge_fallback_page_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_fallback_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_force_purge_everything(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_everything&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_purge_whole_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_whole_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_import_config_file(e){try{let c=document.getElementById("swcfpc-ajax-nonce").innerText,s=encodeURIComponent(JSON.stringify({config_file:e}));swcfpc_lock_screen();let t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_import_config_file&security=${c}&data=${s}`,credentials:"same-origin",timeout:1e4});if(t.ok){let r=await t.json();swcfpc_unlock_screen(),"ok"===r.status?swcfpc_display_ok_dialog("Success",`${r.success_msg}`,null,null,"success",null,"Ok",swcfpc_refresh_page):swcfpc_display_ok_dialog("Error",`${r.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),swcfpc_unlock_screen()}catch(a){alert(`Error: ${a.status} ${a.message}`),console.error(a),swcfpc_unlock_screen()}}async function swcfpc_purge_single_post_cache(e){try{let c=document.getElementById("swcfpc-ajax-nonce").innerText,s=encodeURIComponent(JSON.stringify({post_id:e}));swcfpc_lock_screen();let t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_single_post_cache&security=${c}&data=${s}`,credentials:"same-origin",timeout:1e4});if(t.ok){let r=await t.json();swcfpc_unlock_screen(),"ok"===r.status?swcfpc_display_ok_dialog("Success",`${r.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${r.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),swcfpc_unlock_screen()}catch(a){alert(`Error: ${a.status} ${a.message}`),console.error(a),swcfpc_unlock_screen()}}async function swcfpc_test_page_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_test_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.html}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.html}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_enable_page_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_enable_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success",null,"Ok",swcfpc_refresh_page):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_disable_page_cache(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_disable_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success",null,"Ok",swcfpc_refresh_page):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_reset_all(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_reset_all&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success",null,"Ok",swcfpc_refresh_page):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_clear_logs(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_clear_logs&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_start_preloader(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_preloader_start&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}async function swcfpc_unlock_preloader(){try{let e=document.getElementById("swcfpc-ajax-nonce").innerText;swcfpc_lock_screen();let c=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_preloader_unlock&security=${e}`,credentials:"same-origin",timeout:1e4});if(c.ok){let s=await c.json();swcfpc_unlock_screen(),"ok"===s.status?swcfpc_display_ok_dialog("Success",`${s.success_msg}`,null,null,"success"):swcfpc_display_ok_dialog("Error",`${s.error}`,null,null,"error")}else console.error(`Error: ${c.status} ${c.statusText}`),swcfpc_unlock_screen()}catch(t){alert(`Error: ${t.status} ${t.message}`),console.error(t),swcfpc_unlock_screen()}}const navTabs=document.querySelectorAll("#swcfpc_tab_links .nav-tab:not(.swcfpc-external)");function swcfpc_init_accordions(){let e=document.getElementsByClassName("swcfpc_faq_question");for(let c=0;c<e.length;c++)e[c].addEventListener("click",function(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"})}function swcfpc_update_toolbar_cache_status(){let e=document.getElementById("wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-container");e?(0==swcfpc_cache_enabled?(e.classList.remove("bullet-green"),e.classList.add("bullet-red")):(e.classList.remove("bullet-red"),e.classList.add("bullet-green")),clearInterval(swcfpc_toolbar_cache_status_interval)):swcfpc_toolbar_cache_status_tries++}function swcfpc_handle_lazyload_radios(){let e=document.querySelectorAll('input[name="swcfpc_cf_lazy_loading"]'),c=document.querySelectorAll('input[name="swcfpc_cf_native_lazy_loading"]');e.forEach(e=>{e.addEventListener("change",function(){var e;e=1!==parseInt(this.value),c.forEach(c=>{e||(c.checked=!parseInt(c.value)),c.classList.toggle("disabled",!e)})})})}navTabs?.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let c=e.target.dataset.tab;navTabs.forEach(e=>{e.classList.remove("nav-tab-active")}),e.target.classList.add("nav-tab-active"),document.querySelectorAll(".swcfpc_tab").forEach(e=>{e.classList.remove("active")}),document.getElementById(c).classList.add("active");let s=document.querySelector("input[name=swcfpc_submit_general]");"faq"===c?s.classList.add("swcfpc_hide"):s.classList.contains("swcfpc_hide")&&s.classList.remove("swcfpc_hide"),document.querySelector("input[name=swcfpc_tab]").value=c})}),document.addEventListener("DOMContentLoaded",e=>{try{null!==document.getElementById("swcfpc_main_content")&&(swcfpc_cache_enabled=parseInt(document.getElementById("swcfpc_main_content").getAttribute("data-cache_enabled")),(null==swcfpc_cache_enabled||isNaN(swcfpc_cache_enabled))&&(swcfpc_cache_enabled=0)),document.getElementById("swcfpc_clear_logs")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_clear_logs()}),document.getElementById("swcfpc_start_preloader")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_start_preloader()}),document.getElementById("swcfpc_unlock_preloader")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_unlock_preloader()}),document.querySelector("#swcfpc_import_config_start")?.addEventListener("click",e=>{e.preventDefault();let c=document.querySelector("#swcfpc_import_config_content").value;swcfpc_import_config_file(c)}),document.getElementById("swcfpc_fallback_page_cache_purge")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_purge_fallback_page_cache()}),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-purge-all a")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_purge_whole_cache()}),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-purge-single a")?.addEventListener("click",e=>{e.preventDefault();let c=e.target.hash.replace("#","");swcfpc_purge_single_post_cache(c)}),document.querySelectorAll(".swcfpc_action_row_single_post_cache_purge").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let c=e.target.dataset.post_id;swcfpc_purge_single_post_cache(c)})}),document.getElementById("swcfpc_varnish_cache_purge")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_purge_varnish_cache()}),document.getElementById("swcfpc_form_purge_cache")?.addEventListener("submit",e=>{e.preventDefault(),swcfpc_purge_whole_cache()}),document.getElementById("swcfpc_purge_cache_everything")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_force_purge_everything()}),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-force-purge-everything a")?.addEventListener("click",e=>{e.preventDefault(),swcfpc_force_purge_everything()}),document.getElementById("swcfpc_form_test_cache")?.addEventListener("submit",e=>{e.preventDefault(),swcfpc_test_page_cache()}),document.getElementById("swcfpc_form_enable_cache")?.addEventListener("submit",e=>{e.preventDefault(),swcfpc_enable_page_cache()}),document.getElementById("swcfpc_form_disable_cache")?.addEventListener("submit",e=>{e.preventDefault(),swcfpc_disable_page_cache()}),document.getElementById("swcfpc_form_reset_all")?.addEventListener("click",e=>{e.preventDefault(),confirm("Are you sure you want reset all?")&&swcfpc_reset_all()}),document.querySelector("select[name=swcfpc_cf_auth_mode]")?.addEventListener("change",e=>{e.preventDefault();let c=e.target.value;"0"===c?(document.querySelectorAll(".api_token_method").forEach(e=>{e.classList.add("swcfpc_hide")}),document.querySelectorAll(".api_key_method").forEach(e=>{e.classList.remove("swcfpc_hide")})):(document.querySelectorAll(".api_token_method").forEach(e=>{e.classList.remove("swcfpc_hide")}),document.querySelectorAll(".api_key_method").forEach(e=>{e.classList.add("swcfpc_hide")}))}),document.querySelectorAll(".conditional_item").forEach(e=>{e.checked&&swcfpc_handle_conditional_settings(e),e.addEventListener("click",e=>{swcfpc_handle_conditional_settings(e.target)})}),document.querySelector(".swcfpc_faq_accordion")&&swcfpc_init_accordions();let c=document?.querySelector("#swcfpc_tab_links .nav-tab-active")?.dataset?.tab;{let s=document.querySelector("input[name=swcfpc_tab]");s&&(s.value=c)}document.querySelector("#swcfpc_options")?.addEventListener("submit",e=>{swcfpc_lock_screen()}),swcfpc_handle_lazyload_radios(),swcfpc_toolbar_cache_status_interval=window.setInterval(swcfpc_update_toolbar_cache_status,2e3)}catch(t){console.warn(t)}});