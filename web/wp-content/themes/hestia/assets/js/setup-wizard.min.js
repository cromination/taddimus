jQuery(document).ready(function(o){var i="#hestiawizard";o(i).smartWizard({autoAdjustHeight:!1,transition:{animation:"fade",speed:"400"},keyboard:{keyNavigation:!1},anchor:{enableNavigation:!1,enableNavigationAlways:!1}});var d=function(){var a=o(".step-progress-bar:visible li.active").next("li");0!==a.length?a.addClass("trigger-next").click():o(i).smartWizard("next")},l=function(a){a?o(".hestia-wizard__footer .left, .hestia-wizard__footer .right").addClass("disabled"):o(".hestia-wizard__footer .left, .hestia-wizard__footer .right").removeClass("disabled")};o(i).on("leaveStep showStep",function(a,i,e,t,s){o(".hestia-hide-skip-btn .hestia-wizard__footer .right").addClass("hidden"),o(".step-progress-bar li").removeClass("trigger-next trigger-prev"),!window.location.hash||"#step-1"!==window.location.hash&&"#step-5"!==window.location.hash?o(".hestia-dashboard-link").addClass("hidden"):(o(".hestia-dashboard-link").removeClass("hidden"),"#step-5"===window.location.hash&&(o(".gif-animation").addClass("show"),setTimeout(function(){o(".gif-animation").removeClass("show")},6e3)))}),o(".prev-wizard").on("click",function(){var a;return 0!==(a=o(".step-progress-bar:visible li.active").prev("li")).length?a.addClass("trigger-prev").click():o(i).smartWizard("prev"),!0}),o(".next-wizard").on("click",function(){return d(),!0}),o(".hestia-accordion .hestia-accordion-item .hestia-accordion-item__button").on("click",function(){var e=o(this).parents();o(".hestia-accordion .hestia-accordion-item .hestia-accordion-item__content").each(function(a,i){o(i).parent().is(e)?(o(i).prev().toggleClass("is-active"),o(i).slideToggle(),o(this).toggleClass("is-active")):(o(i).prev().removeClass("is-active"),o(i).slideUp(),o(this).removeClass("is-active"))})}),o(document).on("click",".hestia-card-box button:not(.hestia-btn,.add-new,.add-btn,.hestia-accordion-item__button)",function(){d()}),o(document).on("input",'input[name="wizard[email]"]',function(){""!==o(this).val()?o(this).parents(".hestia-card-box").find(".hestia-btn").removeClass("disabled"):o(this).parents(".hestia-card-box").find(".hestia-btn").addClass("disabled")}),o(document).on("click",".hestia-card-box .form-footer button[data-action]",function(){var i=o(this),e=i.parents("div.tab-pane"),a=i.data("action");if("hestia_newsletter_subscribe"===a){var t=o('input[name="wizard[email]"]');t.next(".hestia-field-error").remove();var s=t.val(),n="";if(""===s?n=hestiaSetupWizardData.errorMessages.requiredEmail:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(s)||(n=hestiaSetupWizardData.errorMessages.invalidEmail),""!==n)return void o('<span class="hestia-field-error">'+n+"</span>").insertAfter(t)}var r="action=hestia_wizard_step_process&security="+hestiaSetupWizardData.ajax.security+"&_action="+a+"&"+jQuery("input").serialize();e.find(".spinner").addClass("is-active"),e.find(".hestia-card-box .hestia-error-notice").addClass("hidden"),i.addClass("disabled"),l(!0),o.post(hestiaSetupWizardData.ajax.url,r,function(a){l(!1),e.find(".spinner").removeClass("is-active"),i.removeClass("disabled"),1===a.status?d():0===a.status&&""!==a.message&&e.find(".hestia-card-box .hestia-error-notice").html("<p>"+a.message+"</p>").removeClass("hidden")},"json").fail(function(a){l(!1),e.find(".spinner").removeClass("is-active"),e.find("button.hestia-btn").removeClass("disabled")})}),o(document).on("change",'input[name="wizard[install_plugin][]"]',function(){var a=o('input[name="wizard[install_plugin][]"]').filter(":checked"),i=o(this).parents(".hestia-card-box").find(".hestia-btn");0<a.length?i.removeClass("disabled"):i.addClass("disabled")})});